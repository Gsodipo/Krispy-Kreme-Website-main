(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{9742:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),s=o[0],a=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8764:function(e,t,r){"use strict";const n=r(9742),i=r(645),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|d(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|y(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),a(e<0?0:0|y(e))}function f(e){const t=e.length<0?0:0|y(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function y(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return B(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function b(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Y(n))return s;e[r+s]=n}return s}function A(e,t,r,n){return W(z(t,e.length-r),e,r,n)}function S(e,t,r,n){return W(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return W(G(t),e,r,n)}function E(e,t,r,n){return W(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function B(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(q(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=X[e[o]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function K(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function T(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function R(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||K(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||K(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||K(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||K(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||K(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||K(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||K(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||K(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||K(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||K(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||K(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||K(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||K(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||K(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){_(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){_(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const j={};function M(e,t,r){j[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function $(e,t){if("number"!==typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw $(e,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=H(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const J=/[^+/0-9A-Za-z-_]/g;function z(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},6489:function(e,t){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");var r={},n=(t||{}).decode||i,o=0;for(;o<e.length;){var a=e.indexOf("=",o);if(-1===a)break;var c=e.indexOf(";",o);if(-1===c)c=e.length;else if(c<a){o=e.lastIndexOf(";",a-1)+1;continue}var u=e.slice(o,a).trim();if(void 0===r[u]){var l=e.slice(a+1,c).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[u]=s(l,n)}o=c+1}return r},t.serialize=function(e,t,i){var s=i||{},a=s.encode||o;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!n.test(e))throw new TypeError("argument name is invalid");var c=a(t);if(c&&!n.test(c))throw new TypeError("argument val is invalid");var u=e+"="+c;if(null!=s.maxAge){var l=s.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(s.domain){if(!n.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!n.test(s.path))throw new TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){var h=s.expires;if(!function(e){return"[object Date]"===r.call(e)||e instanceof Date}(h)||isNaN(h.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+h.toUTCString()}s.httpOnly&&(u+="; HttpOnly");s.secure&&(u+="; Secure");if(s.priority){switch("string"===typeof s.priority?s.priority.toLowerCase():s.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(s.sameSite){switch("string"===typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}function s(e,t){try{return t(e)}catch(r){return e}}},645:function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,d=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+p]=255&s,p+=y,s/=256,u-=8);e[r+p-y]|=128*d}},3454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"===typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7663)},5293:function(e){!function(){"use strict";var t={864:function(e){var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}d(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&d(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,s;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"===typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,function(e){console&&console.warn&&console.warn(e)}(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function d(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var u=c.length,l=y(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(864);e.exports=i}()},7663:function(e){!function(){var t={229:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},9681:function(e,t,r){var n=r(3454);!function(){var t={782:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";const t={};function r(e,r,n){function i(e,t,n){return"string"===typeof r?r:r(e,t,n)}n||(n=Error);class o extends n{constructor(e,t,r){super(i(e,t,r))}}o.prototype.name=n.name,o.prototype.code=e,t[e]=o}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let i,o;if("string"===typeof t&&function(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o=`The ${e} ${i} ${n(t,"type")}`;else{const r=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o=`The "${e}" ${r} ${i} ${n(t,"type")}`}return o+=". Received type "+typeof r,o}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(709),s=r(337);r(782)(l,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,i){"use strict";var o;e.exports=x,x.ReadableState=B;i(361).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=i(678),c=i(300).Buffer,u=r.g.Uint8Array||function(){};var l,h=i(837);l=h&&h.debuglog?h.debuglog("stream"):function(){};var f,p,y,d=i(379),g=i(25),m=i(776).getHighWaterMark,w=i(646).q,v=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,A=w.ERR_METHOD_NOT_IMPLEMENTED,S=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(x,a);var k=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function B(e,t,r){o=o||i(403),e=e||{},"boolean"!==typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=i(704).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function x(e){if(o=o||i(403),!(this instanceof x))return new x(e);var t=this instanceof o;this._readableState=new B(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function C(e,t,r,n,i){l("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,K(e)))}(e,s);else if(i||(o=function(e,t){var r;(function(e){return c.isBuffer(e)||e instanceof u})(t)||"string"===typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t));return r}(s,t)),o)k(e,o);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)s.endEmitted?k(e,new S):N(e,s,t,!0);else if(s.ended)k(e,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?N(e,s,t,!1):_(e,s)):N(e,s,t,!1)}else n||(s.reading=!1,_(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function N(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),_(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},x.prototype.unshift=function(e){return C(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){f||(f=i(704).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var O=1073741824;function U(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(K,e))}function K(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function _(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function T(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){l("readable nexttick read 0"),e.read(0)}function L(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function M(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(H,t,e))}function H(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function V(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):P(this),null;if(0===(e=U(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=U(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){k(this,new A("_read()"))},x.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:m;function a(e,t){l("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function c(){l("onend"),e.end()}i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",u);var h=!1;function f(){l("cleanup"),e.removeListener("close",d),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function p(t){l("ondata");var n=e.write(t);l("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==V(i.pipes,e))&&!h&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(t){l("onerror",t),m(),e.removeListener("error",y),0===s(e,"error")&&k(e,t)}function d(){e.removeListener("finish",g),m()}function g(){l("onfinish"),e.removeListener("close",d),m()}function m(){l("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",y),e.once("close",d),e.once("finish",g),e.emit("pipe",r),i.flowing||(l("pipe resume"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=V(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?P(this):i.reading||n.nextTick(R,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(T,this),r},x.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(T,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(L,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=i(871)),p(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=j,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(x.from=function(e,t){return void 0===y&&(y=i(727)),y(x,e,t)})},170:function(e,t,r){"use strict";e.exports=l;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(403);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(782)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},337:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var s;e.exports=x,x.WritableState=B;var a={deprecate:i(769)},c=i(678),u=i(300).Buffer,l=r.g.Uint8Array||function(){};var h,f=i(25),p=i(776).getHighWaterMark,y=i(646).q,d=y.ERR_INVALID_ARG_TYPE,g=y.ERR_METHOD_NOT_IMPLEMENTED,m=y.ERR_MULTIPLE_CALLBACK,w=y.ERR_STREAM_CANNOT_PIPE,v=y.ERR_STREAM_DESTROYED,b=y.ERR_STREAM_NULL_VALUES,A=y.ERR_STREAM_WRITE_AFTER_END,S=y.ERR_UNKNOWN_ENCODING,k=f.errorOrDestroy;function E(){}function B(e,t,r){s=s||i(403),e=e||{},"boolean"!==typeof r&&(r=t instanceof s),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(_,e,t),e._writableState.errorEmitted=!0,k(e,i)):(o(i),e._writableState.errorEmitted=!0,k(e,i),_(e,t))}(e,r,i,t,o);else{var s=P(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||U(e,r),i?n.nextTick(O,e,r,s,o):O(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(e){var t=this instanceof(s=s||i(403));if(!t&&!h.call(x,this))return new x(e);this._writableState=new B(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),c.call(this)}function C(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,r)),t}function N(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),_(e,t)}function U(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,N(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,h=r.callback;if(N(e,t,!1,t.objectMode?1:u.length,u,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function K(e,t){e._final((function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(K,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}i(782)(x,c),B.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(B.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===x&&(e&&e._writableState instanceof B)}})):h=function(e){return e instanceof this},x.prototype.pipe=function(){k(this,new w)},x.prototype.write=function(e,t,r){var i=this._writableState,o=!1,s=!i.objectMode&&function(e){return u.isBuffer(e)||e instanceof l}(e);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof r&&(r=E),i.ending?function(e,t){var r=new A;k(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var o;return null===r?o=new b:"string"===typeof r||t.objectMode||(o=new d("chunk",["string","Buffer"],r)),!o||(k(e,o),n.nextTick(i,o),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=C(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else N(e,t,!1,a,n,i,o);return c}(this,i,s,e,t,r)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var i=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,_(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";var i;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(698),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function y(e,t){return{value:e,done:t}}function d(e){var t=e[a];if(null!==t){var r=e[p].read();null!==r&&(e[h]=null,e[a]=null,e[c]=null,t(y(r,!1)))}}function g(e){n.nextTick(d,e)}var m=Object.getPrototypeOf((function(){})),w=Object.setPrototypeOf((i={get stream(){return this[p]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(y(void 0,!0))}))}));var r,i=this[h];if(i)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(y(void 0,!0)):t[f](r,n)}),n)}}(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(y(o,!1));r=new Promise(this[f])}return this[h]=r,r}},o(i,Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(y(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(w,(o(t={},p,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var n=r[p].read();n?(r[h]=null,r[a]=null,r[c]=null,e(y(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[h]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[c]=null,n(y(void 0,!0))),r[l]=!0})),e.on("readable",g.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(300).Buffer,a=r(837).inspect,c=a&&a.custom||"inspect";function u(e,t,r){s.prototype.copy.call(e,t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&o(e.prototype,t),r&&o(e,r)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t=s.allocUnsafe(e>>>0),r=this.head,n=0;r;)u(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?s._writableState?s._writableState.errorEmitted?n.nextTick(r,s):(s._writableState.errorEmitted=!0,n.nextTick(t,s,e)):n.nextTick(t,s,e):o?(n.nextTick(r,s),o(e)):n.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"===typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},p=function(e){o.call(t,e)},y=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},d=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",y),t.req?d():t.on("request",d)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",y),function(){t.removeListener("complete",l),t.removeListener("abort",y),t.removeListener("request",d),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",y)}}},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"===typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return h.apply(this,arguments)}function h(){return h=i((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}})),h.apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},442:function(e,t,r){"use strict";var n;var i=r(646).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(698)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){function t(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}}},300:function(e){"use strict";e.exports=r(8764)},361:function(e){"use strict";e.exports=r(5293)},781:function(e){"use strict";e.exports=r(5293).EventEmitter},837:function(e){"use strict";e.exports=r(9720)}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},s=!0;try{t[e](n,n.exports,o),s=!1}finally{s&&delete i[e]}return n.exports}o.ab="//";var s=o(173);e.exports=s}()},9720:function(e,t,r){var n=r(8764).Buffer,i=r(3454);!function(){var t={992:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(void 0===e||null===e)throw new TypeError;if("function"!=typeof r)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(t.call(e,o)){var s=e[o];r.call(n,s,o,e)&&i.push(s)}return i};var t=Object.prototype.hasOwnProperty},256:function(e,t,r){"use strict";var n=r(838),i=r(139),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i(r):r}},139:function(e,t,r){"use strict";var n=r(174),i=r(838),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var h=function(){return a(n,o,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var s=0;s<o;s++)n.call(i,e[s],s,e);else for(var a in e)t.call(e,a)&&n.call(i,e[a],a,e)}},426:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var s,a=r.call(arguments,1),c=function(){if(this instanceof s){var t=o.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,o.length-a.length),l=[],h=0;h<u;h++)l.push("$"+h);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var f=function(){};f.prototype=o.prototype,s.prototype=new f,f.prototype=null}return s}},174:function(e,t,r){"use strict";var n=r(426);e.exports=Function.prototype.bind||n},838:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,h=r(115)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},y="undefined"===typeof Uint8Array?n:f(Uint8Array),d={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=f(i.prototype))}return d[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=r(174),v=r(101),b=w.call(Function.call,Array.prototype.concat),A=w.call(Function.apply,Array.prototype.splice),S=w.call(Function.call,String.prototype.replace),k=w.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,x=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,E,(function(e,t,r,i){n[n.length]=r?S(i,B,"$1"):t||e})),n},C=function(e,t){var r,n=e;if(v(m,n)&&(n="%"+(r=m[n])[0]+"%"),v(d,n)){var o=d[n];if(o===p&&(o=g(n)),"undefined"===typeof o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new s('"allowMissing" argument must be a boolean');var r=x(e),n=r.length>0?r[0]:"",o=C("%"+n+"%",t),a=o.name,u=o.value,l=!1,h=o.alias;h&&(n=h[0],A(r,b([0,1],h)));for(var f=1,p=!0;f<r.length;f+=1){var y=r[f],g=k(y,0,1),m=k(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==y&&p||(l=!0),v(d,a="%"+(n+="."+y)+"%"))u=d[a];else if(null!=u){if(!(y in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&f+1>=r.length){var w=c(u,y);u=(p=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:u[y]}else p=v(u,y),u=u[y];p&&!l&&(d[a]=u)}}return u}},942:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(773);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},773:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},115:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(832);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},832:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},101:function(e,t,r){"use strict";var n=r(174);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},782:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return!(t&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),a=s?o(s):{};e.exports=function(e){return"function"===typeof e&&(!!n.test(r.call(e))||(i?o(e)===a:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,n){"use strict";var i=n(144),o=n(349),s=n(256),a=s("Object.prototype.toString"),c=n(942)()&&"symbol"===typeof Symbol.toStringTag,u=o(),l=s("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},h=s("String.prototype.slice"),f={},p=n(466),y=Object.getPrototypeOf;c&&p&&y&&i(u,(function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=y(t),i=p(n,Symbol.toStringTag);if(!i){var o=y(n);i=p(o,Symbol.toStringTag)}f[e]=i.get}));e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!c){var t=h(a(e),8,-1);return l(u,t)>-1}return!!p&&function(e){var t=!1;return i(f,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},369:function(e){e.exports=function(e){return e instanceof n}},584:function(e,t,r){"use strict";var n=r(157),i=r(391),o=r(490),s=r(994);function a(e){return e.call.bind(e)}var c="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,l=a(Object.prototype.toString),h=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(c)var y=a(BigInt.prototype.valueOf);if(u)var d=a(Symbol.prototype.valueOf);function g(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===l(e)}function w(e){return"[object Set]"===l(e)}function v(e){return"[object WeakMap]"===l(e)}function b(e){return"[object WeakSet]"===l(e)}function A(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!==typeof ArrayBuffer&&(A.working?A(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===l(e)}function E(e){return"undefined"!==typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!==typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!==typeof Map&&(m.working?m(e):e instanceof Map)},w.working="undefined"!==typeof Set&&w(new Set),t.isSet=function(e){return"undefined"!==typeof Set&&(w.working?w(e):e instanceof Set)},v.working="undefined"!==typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!==typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},b.working="undefined"!==typeof WeakSet&&b(new WeakSet),t.isWeakSet=function(e){return b(e)},A.working="undefined"!==typeof ArrayBuffer&&A(new ArrayBuffer),t.isArrayBuffer=S,k.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var B="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(e){return"[object SharedArrayBuffer]"===l(e)}function C(e){return"undefined"!==typeof B&&("undefined"===typeof x.working&&(x.working=x(new B)),x.working?x(e):e instanceof B)}function N(e){return g(e,h)}function O(e){return g(e,f)}function U(e){return g(e,p)}function P(e){return c&&g(e,y)}function K(e){return u&&g(e,d)}t.isSharedArrayBuffer=C,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=N,t.isStringObject=O,t.isBooleanObject=U,t.isBigIntObject=P,t.isSymbolObject=K,t.isBoxedPrimitive=function(e){return N(e)||O(e)||U(e)||P(e)||K(e)},t.isAnyArrayBuffer=function(e){return"undefined"!==typeof Uint8Array&&(S(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},177:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])m(a)||!S(a)?s+=" "+a:s+=" "+u(a);return s},t.deprecate=function(e,r){if("undefined"!==typeof i&&!0===i.noDeprecation)return e;if("undefined"===typeof i)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var s={},a=/^$/;if(i.env.NODE_DEBUG){var c=i.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"\x1b["+u.colors[r][0]+"m"+e+"\x1b["+u.colors[r][1]+"m":e}function h(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&B(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=f(e,i,n)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(w(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),E(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(B(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(A(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var u,l="",h=!1,S=["{","}"];(d(r)&&(h=!0,S=["[","]"]),B(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return A(r)&&(l=" "+RegExp.prototype.toString.call(r)),k(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+p(r)),0!==s.length||h&&0!=r.length?n<0?A(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=h?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)U(t,String(s))?o.push(y(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(y(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return y(e,r,n,a,t,h)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,S)):S[0]+l+S[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),U(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(r)?f(e,c.value,null):f(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function g(e){return"boolean"===typeof e}function m(e){return null===e}function w(e){return"number"===typeof e}function v(e){return"string"===typeof e}function b(e){return void 0===e}function A(e){return S(e)&&"[object RegExp]"===x(e)}function S(e){return"object"===typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===x(e)}function E(e){return S(e)&&("[object Error]"===x(e)||e instanceof Error)}function B(e){return"function"===typeof e}function x(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var r=i.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(584),t.isArray=d,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=b,t.isRegExp=A,t.types.isRegExp=A,t.isObject=S,t.isDate=k,t.types.isDate=k,t.isError=E,t.types.isNativeError=E,t.isFunction=B,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r(369);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=r(782),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function K(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!==typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!==typeof n)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return n.apply(o,arguments)};e.apply(this,t).then((function(e){i.nextTick(s.bind(null,null,e))}),(function(e){i.nextTick(K.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},490:function(e,t,n){"use strict";var i=n(144),o=n(349),s=n(256),a=s("Object.prototype.toString"),c=n(942)()&&"symbol"===typeof Symbol.toStringTag,u=o(),l=s("String.prototype.slice"),h={},f=n(466),p=Object.getPrototypeOf;c&&f&&p&&i(u,(function(e){if("function"===typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=p(t),i=f(n,Symbol.toStringTag);if(!i){var o=p(n);i=f(o,Symbol.toStringTag)}h[e]=i.get}}));var y=n(994);e.exports=function(e){return!!y(e)&&(c?function(e){var t=!1;return i(h,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},349:function(e,t,n){"use strict";var i=n(992);e.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"===typeof r.g[e]}))}},466:function(e,t,r){"use strict";var n=r(838)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n}},o={};function s(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,s),i=!1}finally{i&&delete o[e]}return n.exports}s.ab="//";var a=s(177);e.exports=a}()},1951:function(module){var __dirname="/";(function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}}};"undefined"!==typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __webpack_exports__={};__webpack_modules__[950](0,__webpack_exports__),module.exports=__webpack_exports__})()},2043:function(e,t,r){"use strict";var n=r(8764).Buffer;class i{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=i.toUint8Array(e),n=i.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t)r+=e.byteLength;const n=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[1]?this.toView(n,e[1]):n.buffer}return this.concat(e)}}class o{static fromString(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}static toString(e){const t=i.toUint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return decodeURIComponent(escape(r))}}class s{static toString(e,t=!1){const r=i.toArrayBuffer(e),n=new DataView(r);let o="";for(let i=0;i<r.byteLength;i+=2){const e=n.getUint16(i,t);o+=String.fromCharCode(e)}return o}static fromString(e,t=!1){const r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let i=0;i<e.length;i++)n.setUint16(2*i,e.charCodeAt(i),t);return r}}class a{static isHex(e){return"string"===typeof e&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return"string"===typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return"string"===typeof e&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const r=i.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return s.toString(r,!0);case"utf16":case"utf16be":return s.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return s.fromString(e,!0);case"utf16":case"utf16be":return s.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=i.toUint8Array(e);if("undefined"!==typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return n.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!==typeof atob?this.FromBinary(atob(t)):new Uint8Array(n.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return o.fromString(e);case"utf16":case"utf16be":return s.fromString(e);case"utf16le":case"usc2":return s.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return o.toString(e);case"utf16":case"utf16be":return s.toString(e);case"utf16le":case"usc2":return s.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){const t=i.toUint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return r}static ToHex(e){const t=i.toUint8Array(e),r=[],n=t.length;for(let i=0;i<n;i++){const e=t[i].toString(16).padStart(2,"0");r.push(e)}return r.join("")}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const e=t.slice(n,n+2);r[n/2]=parseInt(e,16)}return r.buffer}static ToUtf16String(e,t=!1){return s.toString(e,t)}static FromUtf16String(e,t=!1){return s.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null===e||void 0===e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}a.DEFAULT_UTF8_ENCODING="utf8",t.vJ=i,t.ep=a,t.$e=function(...e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),r=new Uint8Array(t);let n=0;return e.map((e=>new Uint8Array(e))).forEach((e=>{for(const t of e)r[n++]=t})),r.buffer}},9509:function(e,t,r){var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2553:function(e,t,r){"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},2266:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,{Any:function(){return Ct},BaseBlock:function(){return $},BaseStringBlock:function(){return J},BitString:function(){return He},BmpString:function(){return ct},Boolean:function(){return Le},CharacterString:function(){return vt},Choice:function(){return Nt},Constructed:function(){return Ke},DATE:function(){return St},DateTime:function(){return Et},Duration:function(){return Bt},EndOfContent:function(){return Ie},Enumerated:function(){return Ge},GeneralString:function(){return wt},GeneralizedTime:function(){return At},GraphicString:function(){return gt},HexBlock:function(){return L},IA5String:function(){return dt},Integer:function(){return ze},Null:function(){return Te},NumericString:function(){return ht},ObjectIdentifier:function(){return Ye},OctetString:function(){return je},Primitive:function(){return Ne},PrintableString:function(){return ft},RawData:function(){return Ut},RelativeObjectIdentifier:function(){return Qe},Repeated:function(){return Ot},Sequence:function(){return et},Set:function(){return tt},TIME:function(){return xt},TeletexString:function(){return pt},TimeOfDay:function(){return kt},UTCTime:function(){return bt},UniversalString:function(){return lt},Utf8String:function(){return st},ValueBlock:function(){return j},VideotexString:function(){return yt},ViewWriter:function(){return x},VisibleString:function(){return mt},compareSchema:function(){return Pt},fromBER:function(){return Ue},verifySchema:function(){return Kt}});var i=r(8764),o=e=>(i.Buffer.isBuffer(e)?e:i.Buffer.from(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),s={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},a=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),c={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},u="Fe26.2",l=(e,t)=>{if(t<1)throw Error("Invalid random bits count");return((e,t)=>{let r=i.Buffer.allocUnsafe(t);return e.getRandomValues(r),r})(e,Math.ceil(t/8))},h=async(e,t,r)=>{if(null==t||!t.length)throw new Error("Empty password");if(null==r||"object"!=typeof r)throw new Error("Bad options");if(!(r.algorithm in c))throw new Error(`Unknown algorithm: ${r.algorithm}`);let n=c[r.algorithm],o={},s=r.hmac??!1,a=s?{name:"HMAC",hash:n.name}:{name:n.name},u=s?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<r.minPasswordlength)throw new Error(`Password string too short (min ${r.minPasswordlength} characters required)`);let{salt:s=""}=r;if(!s){let{saltBits:t=0}=r;if(!t)throw new Error("Missing salt and saltBits options");s=l(e,t).toString("hex")}let c=await(async(e,t,r,n,o,s)=>{let a=new TextEncoder,c=a.encode(t),u=await e.subtle.importKey("raw",c,"PBKDF2",!1,["deriveBits"]),l={name:"PBKDF2",hash:s,salt:a.encode(r),iterations:n},h=await e.subtle.deriveBits(l,u,8*o);return i.Buffer.from(h)})(e,t,s,r.iterations,n.keyBits/8,"SHA-1"),h=await e.subtle.importKey("raw",c,a,!1,u);o.key=h,o.salt=s}else{if(t.length<n.keyBits/8)throw new Error("Key buffer (password) too small");o.key=await e.subtle.importKey("raw",t,a,!1,u),o.salt=""}return r.iv?o.iv=r.iv:"ivBits"in n&&(o.iv=l(e,n.ivBits)),o},f=async(e,t,r,n)=>{let s=await h(e,t,{...r,hmac:!0}),a=(new TextEncoder).encode(n),c=await e.subtle.sign({name:"HMAC"},s.key,a);return{digest:o(i.Buffer.from(c)),salt:s.salt}},p=e=>"object"!=typeof e||i.Buffer.isBuffer(e)?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},y=async(e,t,r,n)=>{if(!r)throw Error("Empty password");let s=a(n),l=Date.now()+(s.localtimeOffsetMsec||0),y=JSON.stringify(t),d=p(r),{id:g=""}=d;if(g&&!/^\w+$/.test(g))throw new Error("Invalid password id");let{encrypted:m,key:w}=await(async(e,t,r,n)=>{let o=await h(e,t,r),s=(new TextEncoder).encode(n),a=await e.subtle.encrypt({name:c[r.algorithm].name,iv:o.iv},o.key,s);return{encrypted:i.Buffer.from(a),key:o}})(e,d.encryption,s.encryption,y),v=o(m),b=o(w.iv),A=s.ttl?l+s.ttl:"",S=`${u}*${g}*${w.salt}*${b}*${v}*${A}`,k=await f(e,d.integrity,s.integrity,S);return`${S}*${k.salt}*${k.digest}`},d=async(e,t,r,n)=>{if(!r)throw Error("Empty password");let o=a(n),s=Date.now()+(o.localtimeOffsetMsec||0),l=t.split("*");if(8!==l.length)throw new Error("Incorrect number of sealed components");let y,d=l[0],g=l[1],m=l[2],w=l[3],v=l[4],b=l[5],A=l[6],S=l[7],k=`${d}*${g}*${m}*${w}*${v}*${b}`;if(u!==d)throw new Error("Wrong mac prefix");if(b){if(!/^\d+$/.exec(b))throw new Error("Invalid expiration");if(parseInt(b,10)<=s-1e3*o.timestampSkewSec)throw new Error("Expired seal")}if(typeof r>"u"||"string"==typeof r&&0===r.length)throw new Error("Empty password");if("object"!=typeof r||i.Buffer.isBuffer(r))y=r;else{if(!((g||"default")in r))throw new Error(`Cannot find password: ${g}`);y=r[g||"default"]}y=p(y);let E=o.integrity;if(E.salt=A,!((e,t)=>{let r=e.length===t.length?0:1;r&&(t=e);for(let n=0;n<e.length;n+=1)r|=e.charCodeAt(n)^t.charCodeAt(n);return 0===r})((await f(e,y.integrity,E,k)).digest,S))throw new Error("Bad hmac value");let B=i.Buffer.from(v,"base64"),x=o.encryption;x.salt=m,x.iv=i.Buffer.from(w,"base64");let C=await(async(e,t,r,n)=>{let o=await h(e,t,r),s=await e.subtle.decrypt({name:c[r.algorithm].name,iv:o.iv},o.key,i.Buffer.isBuffer(n)?n:i.Buffer.from(n));return(new TextDecoder).decode(s)})(e,y.encryption,x,B);return C?JSON.parse(C):null},g=r(6489),m=r(2043);function w(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function v(e,t,r=-1){const n=r;let i=e,o=0,s=Math.pow(2,t);for(let a=1;a<8;a++){if(e<s){let e;if(n<0)e=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);e=new ArrayBuffer(n),o=n}const r=new Uint8Array(e);for(let n=a-1;n>=0;n--){const e=Math.pow(2,n*t);r[o-n-1]=Math.floor(i/e),i-=r[o-n-1]*e}return e}s*=Math.pow(2,t)}return new ArrayBuffer(0)}function b(...e){let t=0,r=0;for(const o of e)t+=o.length;const n=new ArrayBuffer(t),i=new Uint8Array(n);for(const o of e)i.set(o,r),r+=o.length;return i}function A(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0===(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let s=0;s<this.valueHex.byteLength;s++)r[s]=0;r[0]=128&e[0];const n=w(r,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let s=0;s<this.valueHex.byteLength;s++)o[s]=e[s];o[0]&=127;return w(o,8)-n}function S(e,t){const r=e.toString(10);if(t<r.length)return"";const n=t-r.length,i=new Array(n);for(let o=0;o<n;o++)i[o]="0";return i.join("").concat(r)}Math.log(2);function k(){if("undefined"===typeof BigInt)throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function E(e){let t=0,r=0;for(let i=0;i<e.length;i++){t+=e[i].byteLength}const n=new Uint8Array(t);for(let i=0;i<e.length;i++){const t=e[i];n.set(new Uint8Array(t),r),r+=t.byteLength}return n.buffer}function B(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class x{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return E(this.items)}}const C=[new Uint8Array([1])],N="0123456789",O="name",U="valueHexView",P="",K=new ArrayBuffer(0),_=new Uint8Array(0),I="EndOfContent",T="OCTET STRING",R="BIT STRING";function L(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?m.vJ.toUint8Array(r.valueHex):_}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){const n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!B(this,n,t,r))return-1;const i=t+r;return this.valueHexView=n.subarray(t,i),this.valueHexView.length?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",K)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:m.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class D{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:n=_}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=m.vJ.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:m.ep.ToHex(this.valueBeforeDecodeView)}}}D.NAME="baseBlock";class j extends D{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}j.NAME="valueBlock";class M extends(L(D)){constructor({idBlock:e={}}={}){var t,r,n,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?m.vJ.toUint8Array(e.valueHex):_,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",K}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){const r=v(this.tagNumber,7),n=new Uint8Array(r),i=r.byteLength,o=new Uint8Array(i+1);if(o[0]=31|t,!e){for(let e=0;e<i-1;e++)o[e+1]=128|n[e];o[i]=n[i-1]}return o.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){const n=m.vJ.toUint8Array(e);if(!B(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32===(32&i[0]),this.isHexOnly=!1;const o=31&i[0];if(31!==o)this.tagNumber=o,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],e++,e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;const e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];const n=new Uint8Array(e);for(let i=0;i<e;i++)n[i]=t[i];t=this.valueHexView=new Uint8Array(e),t.set(n),this.blockLength<=9?this.tagNumber=w(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}M.NAME="identificationBlock";class H extends D{constructor({lenBlock:e={}}={}){var t,r,n;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(n=e.length)&&void 0!==n?n:0}fromBER(e,t,r){const n=m.vJ.toUint8Array(e);if(!B(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;const o=127&i[0];if(o>8)return this.error="Too big integer",-1;if(o+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const s=t+1,a=n.subarray(s,s+o);return 0===a[o-1]&&this.warnings.push("Needlessly long encoded length"),this.length=w(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=128),t;if(this.longFormUsed){const n=v(this.length,8);if(n.byteLength>127)return this.error="Too big length",K;if(t=new ArrayBuffer(n.byteLength+1),e)return t;const i=new Uint8Array(n);r=new Uint8Array(t),r[0]=128|n.byteLength;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}H.NAME="lengthBlock";const V={};class $ extends D{constructor({name:e="",optional:t=!1,primitiveSchema:r,...n}={},i){super(n),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new M(n),this.lenBlock=new H(n),this.valueBlock=i?new i(n):new j(n)}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}toBER(e,t){const r=t||new x;t||F(this);const n=this.idBlock.toBER(e);if(r.write(n),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const n=this.lenBlock.toBER(e);r.write(n),r.write(t)}return t?K:r.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():m.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;return function(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}(this.toBER(),e.toBER())}}function F(e){if(e instanceof V.Constructed)for(const t of e.valueBlock.value)F(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}$.NAME="BaseBlock";class J extends ${constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}J.NAME="BaseStringBlock";class z extends(L(j)){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}var G,W,q,Y,X,Z,Q,ee,te,re,ne,ie,oe,se,ae,ce,ue,le,he,fe,pe,ye,de,ge,me,we,ve,be,Ae,Se,ke,Ee,Be,xe,Ce;z.NAME="PrimitiveValueBlock";class Ne extends ${constructor(e={}){super(e,z),this.idBlock.isConstructed=!1}}function Oe(e,t=0,r=e.length){const n=t;let i=new $({},j);const o=new D;if(!B(o,e,t,r))return i.error=o.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let s=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===s)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=s,r-=i.idBlock.blockLength,s=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===s)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=s,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let a=$;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};a=V.EndOfContent;break;case 1:a=V.Boolean;break;case 2:a=V.Integer;break;case 3:a=V.BitString;break;case 4:a=V.OctetString;break;case 5:a=V.Null;break;case 6:a=V.ObjectIdentifier;break;case 10:a=V.Enumerated;break;case 12:a=V.Utf8String;break;case 13:a=V.RelativeObjectIdentifier;break;case 14:a=V.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:a=V.Sequence;break;case 17:a=V.Set;break;case 18:a=V.NumericString;break;case 19:a=V.PrintableString;break;case 20:a=V.TeletexString;break;case 21:a=V.VideotexString;break;case 22:a=V.IA5String;break;case 23:a=V.UTCTime;break;case 24:a=V.GeneralizedTime;break;case 25:a=V.GraphicString;break;case 26:a=V.VisibleString;break;case 27:a=V.GeneralString;break;case 28:a=V.UniversalString;break;case 29:a=V.CharacterString;break;case 30:a=V.BmpString;break;case 31:a=V.DATE;break;case 32:a=V.TimeOfDay;break;case 33:a=V.DateTime;break;case 34:a=V.Duration;break;default:{const e=i.idBlock.isConstructed?new V.Constructed:new V.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else a=i.idBlock.isConstructed?V.Constructed:V.Primitive;return i=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(i,a),s=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength),{offset:s,result:i}}function Ue(e){if(!e.byteLength){const e=new $({},j);return e.error="Input buffer has zero length",{offset:-1,result:e}}return Oe(m.vJ.toUint8Array(e).slice(),0,e.byteLength)}G=Ne,V.Primitive=G,Ne.NAME="PRIMITIVE";class Pe extends j{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){const n=m.vJ.toUint8Array(e);if(!B(this,n,t,r))return-1;if(this.valueBeforeDecodeView=n.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let i=t;for(;o=this.isIndefiniteForm,s=r,(o?1:s)>0;){const e=Oe(n,i,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(i=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===I)break}var o,s;return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===I?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const r=t||new x;for(let n=0;n<this.value.length;n++)this.value[n].toBER(e,r);return t?K:r.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Pe.NAME="ConstructedValueBlock";class Ke extends ${constructor(e={}){super(e,Pe),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){const e=[];for(const r of this.valueBlock.value)e.push(r.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}W=Ke,V.Constructed=W,Ke.NAME="CONSTRUCTED";class _e extends j{fromBER(e,t,r){return t}toBER(e){return K}}_e.override="EndOfContentValueBlock";class Ie extends ${constructor(e={}){super(e,_e),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}q=Ie,V.EndOfContent=q,Ie.NAME=I;class Te extends ${constructor(e={}){super(e,j),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){const r=new ArrayBuffer(2);if(!e){const e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}Y=Te,V.Null=Y,Te.NAME="NULL";class Re extends(L(j)){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=m.vJ.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){const n=m.vJ.toUint8Array(e);return B(this,n,t,r)?(this.valueHexView=n.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,A.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}Re.NAME="BooleanValueBlock";class Le extends ${constructor(e={}){super(e,Re),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}X=Le,V.Boolean=X,Le.NAME="BOOLEAN";class De extends(L(Pe)){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){if(this.isHexOnly=!1,n=Pe.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===I){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==T)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,n=super.fromBER(e,t,r),this.blockLength=r;return n}toBER(e,t){return this.isConstructed?Pe.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}De.NAME="OctetStringValueBlock";class je extends ${constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},De),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){const e=Oe(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(n){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Ke.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof je&&e.push(t.valueBlock.valueHexView);return m.vJ.concat(e)}}Z=je,V.OctetString=Z,je.NAME=T;class Me extends(L(Pe)){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(n=Pe.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(const e of this.value){const t=e.constructor.NAME;if(t===I){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==R)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}const i=m.vJ.toUint8Array(e);if(!B(this,i,t,r))return-1;const o=i.subarray(t,t+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=o.subarray(1);try{if(e.byteLength){const t=Oe(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(s){}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,t+r}toBER(e,t){if(this.isConstructed)return Pe.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return K;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}Me.NAME="BitStringValueBlock";class He extends ${constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},Me),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ke.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const n of t)e.push(n.toString(2).padStart(8,"0"));const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}}function Ve(e,t){const r=new Uint8Array([0]),n=new Uint8Array(e),i=new Uint8Array(t);let o=n.slice(0);const s=o.length-1,a=i.slice(0),c=a.length-1;let u=0;let l=0;for(let h=c<s?s:c;h>=0;h--,l++){if(!0===l<a.length)u=o[s-l]+a[c-l]+r[0];else u=o[s-l]+r[0];if(r[0]=u/10,!0===l>=o.length)o=b(new Uint8Array([u%10]),o);else o[s-l]=u%10}return r[0]>0&&(o=b(r,o)),o}function $e(e){if(e>=C.length)for(let t=C.length;t<=e;t++){const e=new Uint8Array([0]);let r=C[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10,r[t]=n[0]%10}e[0]>0&&(r=b(e,r)),C.push(r)}return C[e]}function Fe(e,t){let r=0;const n=new Uint8Array(e),i=new Uint8Array(t),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1;let u,l=0;for(let h=c;h>=0;h--,l++)if(u=o[s-l]-a[c-l]-r,!0===u<0)r=1,o[s-l]=u+10;else r=0,o[s-l]=u;if(r>0)for(let h=s-c+1;h>=0;h--,l++){if(u=o[s-l]-r,!(u<0)){r=0,o[s-l]=u;break}r=1,o[s-l]=u+10}return o.slice()}Q=He,V.BitString=Q,He.NAME=R;class Je extends(L(j)){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=A.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){const t=e<0?-1*e:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const e=v(r-t,8,n);return new Uint8Array(e)[0]|=128,e}let i=v(t,8,n),o=new Uint8Array(i);if(128&o[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)o[r+1]=t[r];o[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const o=this.valueHexView;return 0===o[0]&&0!==(128&o[1])?this.valueHexView=o.subarray(1):0!==n&&o.length<n&&(n-o.length>1&&(n=o.length+1),this.valueHexView=o.subarray(n-o.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case 0!==(128&t[0]):{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&0===(128&t[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){const n=super.fromBER(e,t,r);return-1===n||this.setValueHex(),n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=8*this.valueHexView.length-1;let t,r=new Uint8Array(8*this.valueHexView.length/3),n=0;const i=this.valueHexView;let o="",s=!1;for(let a=i.byteLength-1;a>=0;a--){t=i[a];for(let i=0;i<8;i++){if(1===(1&t))if(n===e)r=Fe($e(n),r),o="-";else r=Ve(r,$e(n));n++,t>>=1}}for(let a=0;a<r.length;a++)r[a]&&(s=!0),s&&(o+=N.charAt(r[a]));return!1===s&&(o+=N.charAt(0)),o}}ee=Je,Je.NAME="IntegerValueBlock",Object.defineProperty(ee.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class ze extends ${constructor(e={}){super(e,Je),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return k(),BigInt(this.valueBlock.toString())}static fromBigInt(e){k();const t=BigInt(e),r=new x,n=t.toString(16).replace(/^-/,""),i=new Uint8Array(m.ep.FromHex(n));if(t<0){const e=new Uint8Array(i.length+(128&i[0]?1:0));e[0]|=128;const n=BigInt(`0x${m.ep.ToHex(e)}`)+t,o=m.vJ.toUint8Array(m.ep.FromHex(n.toString(16)));o[0]|=128,r.write(o)}else 128&i[0]&&r.write(new Uint8Array([0])),r.write(i);return new ze({valueHex:r.final()})}convertToDER(){const e=new ze({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ze({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}te=ze,V.Integer=te,ze.NAME="INTEGER";class Ge extends ze{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}re=Ge,V.Enumerated=re,Ge.NAME="ENUMERATED";class We extends(L(j)){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;const n=m.vJ.toUint8Array(e);if(!B(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let s=0;s<r&&(this.valueHexView[s]=127&i[s],this.blockLength++,0!==(128&i[s]));s++);const o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength;s++)o[s]=this.valueHexView[s];return this.valueHexView=o,0!==(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=w(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){k();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const r=new Uint8Array(t.length/7);for(let n=0;n<r.length;n++)r[n]=parseInt(t.slice(7*n,7*n+7),2)+(n+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",K;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=m.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}We.NAME="sidBlock";class qe extends j{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new We;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e){const t=[];for(let r=0;r<this.value.length;r++){const n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,K;t.push(n)}return E(t)}fromString(e){this.value=[];let t=0,r=0,n="",i=!1;do{if(r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return void(this.value=[])}const r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{const e=new We;if(n>Number.MAX_SAFE_INTEGER){k();const t=BigInt(n);e.valueBigInt=t}else if(e.valueDec=parseInt(n,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,this.value[r].isFirstSid?e=`2.{${n} - 80}`:e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}qe.NAME="ObjectIdentifierValueBlock";class Ye extends ${constructor(e={}){super(e,qe),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}ne=Ye,V.ObjectIdentifier=ne,Ye.NAME="OBJECT IDENTIFIER";class Xe extends(L(D)){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;const n=m.vJ.toUint8Array(e);if(!B(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let s=0;s<r&&(this.valueHexView[s]=127&i[s],this.blockLength++,0!==(128&i[s]));s++);const o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength;s++)o[s]=this.valueHexView[s];return this.valueHexView=o,0!==(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=w(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",K;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r.buffer}toString(){let e="";return e=this.isHexOnly?m.ep.ToHex(this.valueHexView):this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Xe.NAME="relativeSidBlock";class Ze extends j{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new Xe;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e,t){const r=[];for(let n=0;n<this.value.length;n++){const t=this.value[n].toBER(e);if(0===t.byteLength)return this.error=this.value[n].error,K;r.push(t)}return E(r)}fromString(e){this.value=[];let t=0,r=0,n="";do{r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1;const i=new Xe;if(i.valueDec=parseInt(n,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Ze.NAME="RelativeObjectIdentifierValueBlock";class Qe extends ${constructor(e={}){super(e,Ze),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}ie=Qe,V.RelativeObjectIdentifier=ie,Qe.NAME="RelativeObjectIdentifier";class et extends Ke{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}oe=et,V.Sequence=oe,et.NAME="SEQUENCE";class tt extends Ke{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}se=tt,V.Set=se,tt.NAME="SET";class rt extends(L(j)){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=P}toJSON(){return{...super.toJSON(),value:this.value}}}rt.NAME="StringValueBlock";class nt extends rt{}nt.NAME="SimpleStringValueBlock";class it extends J{constructor({...e}={}){super(e,nt)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,m.vJ.toUint8Array(e))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}it.NAME="SIMPLE STRING";class ot extends it{fromBuffer(e){this.valueBlock.valueHexView=m.vJ.toUint8Array(e);try{this.valueBlock.value=m.ep.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=m.ep.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf8String(e)),this.valueBlock.value=e}}ot.NAME="Utf8StringValueBlock";class st extends ot{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}ae=st,V.Utf8String=ae,st.NAME="UTF8String";class at extends it{fromBuffer(e){this.valueBlock.value=m.ep.ToUtf16String(e),this.valueBlock.valueHexView=m.vJ.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf16String(e))}}at.NAME="BmpStringValueBlock";class ct extends at{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}ce=ct,V.BmpString=ce,ct.NAME="BMPString";class ut extends it{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let n=0;n<r.length;n+=4)r[n]=r[n+3],r[n+1]=r[n+2],r[n+2]=0,r[n+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let n=0;n<t;n++){const t=v(e.charCodeAt(n),8),i=new Uint8Array(t);if(i.length>4)continue;const o=4-i.length;for(let e=i.length-1;e>=0;e--)r[4*n+e+o]=i[e]}this.valueBlock.value=e}}ut.NAME="UniversalStringValueBlock";class lt extends ut{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}ue=lt,V.UniversalString=ue,lt.NAME="UniversalString";class ht extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}le=ht,V.NumericString=le,ht.NAME="NumericString";class ft extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}he=ft,V.PrintableString=he,ft.NAME="PrintableString";class pt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}fe=pt,V.TeletexString=fe,pt.NAME="TeletexString";class yt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}pe=yt,V.VideotexString=pe,yt.NAME="VideotexString";class dt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}ye=dt,V.IA5String=ye,dt.NAME="IA5String";class gt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}de=gt,V.GraphicString=de,gt.NAME="GraphicString";class mt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}ge=mt,V.VisibleString=ge,mt.NAME="VisibleString";class wt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}me=wt,V.GeneralString=me,wt.NAME="GeneralString";class vt extends it{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}we=vt,V.CharacterString=we,vt.NAME="CharacterString";class bt extends mt{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,m.vJ.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for conversion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){const e=new Array(7);return e[0]=S(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=S(this.month,2),e[2]=S(this.day,2),e[3]=S(this.hour,2),e[4]=S(this.minute,2),e[5]=S(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}ve=bt,V.UTCTime=ve,bt.NAME="UTCTime";class At extends bt{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,n="",i="",o=0,s=0,a=0;if("Z"===e[e.length-1])n=e.substring(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(-1!==n.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==n.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let e=1,t=n.indexOf("+"),r="";if(-1===t&&(t=n.indexOf("-"),e=-1),-1!==t){if(r=n.substring(t+1),n=n.substring(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");if(s=e*i,4===r.length){if(i=parseInt(r.substring(2,4),10),isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");a=e*i}}}let c=n.indexOf(".");if(-1===c&&(c=n.indexOf(",")),-1!==c){const e=new Number(`0${n.substring(c)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");o=e.valueOf(),i=n.substring(0,c)}else i=n;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==c)throw new Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*o;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*o;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){const e=1e3*o;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const u=t.exec(i);if(null===u)throw new Error("Wrong input string for conversion");for(let l=1;l<u.length;l++)switch(l){case 1:this.year=parseInt(u[l],10);break;case 2:this.month=parseInt(u[l],10);break;case 3:this.day=parseInt(u[l],10);break;case 4:this.hour=parseInt(u[l],10)+s;break;case 5:this.minute=parseInt(u[l],10)+a;break;case 6:this.second=parseInt(u[l],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){const e=[];return e.push(S(this.year,4)),e.push(S(this.month,2)),e.push(S(this.day,2)),e.push(S(this.hour,2)),e.push(S(this.minute,2)),e.push(S(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(S(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}be=At,V.GeneralizedTime=be,At.NAME="GeneralizedTime";class St extends st{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Ae=St,V.DATE=Ae,St.NAME="DATE";class kt extends st{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Se=kt,V.TimeOfDay=Se,kt.NAME="TimeOfDay";class Et extends st{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}ke=Et,V.DateTime=ke,Et.NAME="DateTime";class Bt extends st{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Ee=Bt,V.Duration=Ee,Bt.NAME="Duration";class xt extends st{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Be=xt,V.TIME=Be,xt.NAME="TIME";class Ct{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class Nt extends Ct{constructor({value:e=[],...t}={}){super(t),this.value=e}}class Ot extends Ct{constructor({value:e=new Ct,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class Ut{constructor({data:e=_}={}){this.dataView=m.vJ.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=m.vJ.toUint8Array(e)}fromBER(e,t,r){const n=t+r;return this.dataView=m.vJ.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function Pt(e,t,r){if(r instanceof Nt){for(let n=0;n<r.value.length;n++){if(Pt(e,t,r.value[n]).verified)return{verified:!0,result:e}}{const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(O)&&(e.name=r.name),e}}if(r instanceof Ct)return r.hasOwnProperty(O)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object===!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(0===n.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(n,0,n.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(U in r.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(n.length!==i.length)return{verified:!1,result:e};for(let t=0;t<n.length;t++)if(n[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&(e[r.name]=t)),r instanceof V.Constructed){let n=0,i={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof Ot&&(o=t.valueBlock.value.length),0===o)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let s=0;s<o;s++)if(s-n>=t.valueBlock.value.length){if(!1===r.valueBlock.value[s].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof Ot){if(i=Pt(e,t.valueBlock.value[s],r.valueBlock.value[0].value),!1===i.verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&delete e[r.name]),i;n++}if(O in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};n="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e,"undefined"===typeof n[r.valueBlock.value[0].name]&&(n[r.valueBlock.value[0].name]=[]),n[r.valueBlock.value[0].name].push(t.valueBlock.value[s])}}else if(i=Pt(e,t.valueBlock.value[s-n],r.valueBlock.value[s]),!1===i.verified){if(!r.valueBlock.value[s].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&delete e[r.name]),i;n++}if(!1===i.verified){const t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&U in t.valueBlock){const n=Oe(t.valueBlock.valueHexView);if(-1===n.offset){const t={verified:!1,result:n.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,P),r.name&&(delete e[r.name],t.name=r.name)),t}return Pt(e,n.result,r.primitiveSchema)}return{verified:!0,result:e}}function Kt(e,t){if(t instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=Oe(m.vJ.toUint8Array(e));return-1===r.offset?{verified:!1,result:r.result}:Pt(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(xe||(xe={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(Ce||(Ce={}));const _t={fromASN:e=>e instanceof Te?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new Te;const t=Ue(e);if(t.result.error)throw new Error(t.result.error);return t.result}},It={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new ze({value:+e})},Tt={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new Ge({value:e})},Rt={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new He({valueHex:e})},Lt={fromASN:e=>e.valueBlock.toString(),toASN:e=>new Ye({value:e})},Dt={fromASN:e=>e.valueBlock.value,toASN:e=>new Le({value:e})},jt={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new je({valueHex:e})};function Mt(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}const Ht=Mt(st),Vt=Mt(ct),$t=Mt(lt),Ft=Mt(ht),Jt=Mt(ft),zt=Mt(pt),Gt=Mt(yt),Wt=Mt(dt),qt=Mt(gt),Yt=Mt(mt),Xt=Mt(wt),Zt=Mt(vt),Qt={fromASN:e=>e.toDate(),toASN:e=>new bt({valueDate:e})},er={fromASN:e=>e.toDate(),toASN:e=>new At({valueDate:e})},tr={fromASN:()=>null,toASN:()=>new Te};function rr(e){switch(e){case Ce.Any:return _t;case Ce.BitString:return Rt;case Ce.BmpString:return Vt;case Ce.Boolean:return Dt;case Ce.CharacterString:return Zt;case Ce.Enumerated:return Tt;case Ce.GeneralString:return Xt;case Ce.GeneralizedTime:return er;case Ce.GraphicString:return qt;case Ce.IA5String:return Wt;case Ce.Integer:return It;case Ce.Null:return tr;case Ce.NumericString:return Ft;case Ce.ObjectIdentifier:return Lt;case Ce.OctetString:return jt;case Ce.PrintableString:return Jt;case Ce.TeletexString:return zt;case Ce.UTCTime:return Qt;case Ce.UniversalString:return $t;case Ce.Utf8String:return Ht;case Ce.VideotexString:return Gt;case Ce.VisibleString:return Yt;default:return null}}function nr(e){return"function"===typeof e&&e.prototype?!(!e.prototype.toASN||!e.prototype.fromASN)||nr(e.prototype):!!(e&&"object"===typeof e&&"toASN"in e&&"fromASN"in e)}function ir(e){var t;if(e){const r=Object.getPrototypeOf(e);return(null===(t=null===r||void 0===r?void 0:r.prototype)||void 0===t?void 0:t.constructor)===Array||ir(r)}return!1}function or(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<e.byteLength;i++)if(r[i]!==n[i])return!1;return!0}const sr=new class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const r=this.items.get(e);if(!r)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:xe.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){const r=this.items.get(e)||this.createDefault(e),i=[];for(const o in r.items){const e=r.items[o],s=t?o:"";let a;if("number"===typeof e.type){const t=Ce[e.type],r=n[t];if(!r)throw new Error(`Cannot get ASN1 class by name '${t}'`);a=new r({name:s})}else if(nr(e.type)){a=(new e.type).toSchema(s)}else if(e.optional){this.get(e.type).type===xe.Choice?a=new Ct({name:s}):(a=this.create(e.type,!1),a.name=s)}else a=new Ct({name:s});const c=!!e.optional||void 0!==e.defaultValue;if(e.repeated){a.name="";a=new("set"===e.repeated?tt:et)({name:"",value:[new Ot({name:s,value:a})]})}if(null!==e.context&&void 0!==e.context)if(e.implicit)if("number"===typeof e.type||nr(e.type)){const t=e.repeated?Ke:Ne;i.push(new t({name:s,optional:c,idBlock:{tagClass:3,tagNumber:e.context}}))}else{this.cache(e.type);const t=!!e.repeated;let r=t?a:this.get(e.type,!0).schema;r="valueBlock"in r?r.valueBlock.value:r.value,i.push(new Ke({name:t?"":s,optional:c,idBlock:{tagClass:3,tagNumber:e.context},value:r}))}else i.push(new Ke({optional:c,idBlock:{tagClass:3,tagNumber:e.context},value:[a]}));else a.optional=c,i.push(a)}switch(r.type){case xe.Sequence:return new et({value:i,name:""});case xe.Set:return new tt({value:i,name:""});case xe.Choice:return new Nt({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);if(t){return this.items.get(t)||this.findParentSchema(t)}return null}},ar=e=>t=>{let r;sr.has(t)?r=sr.get(t):(r=sr.createDefault(t),sr.set(t,r)),Object.assign(r,e)},cr=e=>(t,r)=>{let n;sr.has(t.constructor)?n=sr.get(t.constructor):(n=sr.createDefault(t.constructor),sr.set(t.constructor,n));const i=Object.assign({},e);if("number"===typeof i.type&&!i.converter){const n=rr(e.type);if(!n)throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);i.converter=n}n.items[r]=i};class ur extends Error{constructor(){super(...arguments),this.schemas=[]}}class lr{static parse(e,t){const r=Ue(e);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(nr(t)){return(new t).fromASN(e)}const i=sr.get(t);sr.cache(t);let o=i.schema;if(e.constructor===Ke&&i.type!==xe.Choice){o=new Ke({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const t in i.items)delete e[t]}const s=Pt({},e,o);if(!s.verified)throw new ur(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);const a=new t;if(ir(t)){if(!("value"in e.valueBlock)||!Array.isArray(e.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const r=i.itemType;if("number"===typeof r){const n=rr(r);if(!n)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,(e=>n.fromASN(e)))}return t.from(e.valueBlock.value,(e=>this.fromASN(e,r)))}for(const e in i.items){const t=s.result[e];if(!t)continue;const o=i.items[e],c=o.type;if("number"===typeof c||nr(c)){const i=null!==(r=o.converter)&&void 0!==r?r:nr(c)?new c:null;if(!i)throw new Error("Converter is empty");if(o.repeated)if(o.implicit){const r=new("sequence"===o.repeated?et:tt);r.valueBlock=t.valueBlock;const n=Ue(r.toBER(!1));if(-1===n.offset)throw new Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock)||!Array.isArray(n.result.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const s=n.result.valueBlock.value;a[e]=Array.from(s,(e=>i.fromASN(e)))}else a[e]=Array.from(t,(e=>i.fromASN(e)));else{let r=t;if(o.implicit){let e;if(nr(c))e=(new c).toSchema("");else{const t=Ce[c],r=n[t];if(!r)throw new Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=Ue(e.toBER(!1)).result}a[e]=i.fromASN(r)}}else if(o.repeated){if(!Array.isArray(t))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[e]=Array.from(t,(e=>this.fromASN(e,c)))}else a[e]=this.fromASN(t,c)}return a}catch(i){throw i instanceof ur&&i.schemas.push(t.name),i}}}class hr{static serialize(e){return e instanceof $?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&"object"===typeof e&&nr(e))return e.toASN();if(!e||"object"!==typeof e)throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,r=sr.get(t);sr.cache(t);let n,i=[];if(r.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if("number"===typeof r.itemType){const n=rr(r.itemType);if(!n)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);i=e.map((e=>n.toASN(e)))}else i=e.map((e=>this.toAsnItem({type:r.itemType},"[]",t,e)))}else for(const o in r.items){const n=r.items[o],s=e[o];if(void 0===s||n.defaultValue===s||"object"===typeof n.defaultValue&&"object"===typeof s&&or(this.serialize(n.defaultValue),this.serialize(s)))continue;const a=hr.toAsnItem(n,o,t,s);if("number"===typeof n.context)if(n.implicit)if(n.repeated||"number"!==typeof n.type&&!nr(n.type))i.push(new Ke({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},value:a.valueBlock.value}));else{const e={};e.valueHex=a instanceof Te?a.valueBeforeDecodeView:a.valueBlock.toBER(),i.push(new Ne({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},...e}))}else i.push(new Ke({optional:n.optional,idBlock:{tagClass:3,tagNumber:n.context},value:[a]}));else n.repeated?i=i.concat(a):i.push(a)}switch(r.type){case xe.Sequence:n=new et({value:i});break;case xe.Set:n=new tt({value:i});break;case xe.Choice:if(!i[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);n=i[0]}return n}static toAsnItem(e,t,r,n){let i;if("number"===typeof e.type){const o=e.converter;if(!o)throw new Error(`Property '${t}' doesn't have converter for type ${Ce[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>o.toASN(e)));i=new("sequence"===e.repeated?et:tt)({value:t})}else i=o.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>this.toASN(e)));i=new("sequence"===e.repeated?et:tt)({value:t})}else i=this.toASN(n);return i}}class fr{static serialize(e){return hr.serialize(e)}static parse(e,t){return lr.parse(e,t)}static toString(e){const t=Ue(m.vJ.isBufferSource(e)?m.vJ.toArrayBuffer(e):fr.serialize(e));if(-1===t.offset)throw new Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}var pr,yr=r(655);class dr extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class gr extends dr{constructor(e,t,r){super(t,r),this.schema=e}}class mr extends gr{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class wr extends dr{}class vr extends dr{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class br extends mr{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function Ar(e,t){if(!function(e,t){switch(t){case pr.Boolean:return"boolean"===typeof e;case pr.Number:return"number"===typeof e;case pr.String:return"string"===typeof e}return!0}(e,t))throw new TypeError(`Value must be ${pr[t]}`)}function Sr(e){return e&&e.prototype?!(!e.prototype.toJSON||!e.prototype.fromJSON)||Sr(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(pr||(pr={}));const kr="default",Er=new class{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){const t=this.items.get(e)||this.findParentSchema(e);if(!t)throw new Error("Cannot get schema for current target");return t}create(e){const t={names:{}},r=this.findParentSchema(e);if(r){Object.assign(t,r),t.names={};for(const e in r.names)t.names[e]=Object.assign({},r.names[e])}return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=e.__proto__;if(t){return this.items.get(t)||this.findParentSchema(t)}return null}};class Br{constructor(e){this.pattern=new RegExp(e)}validate(e){const t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!==typeof e)throw new wr("Incoming value must be string");if(!t.exec(e))throw new wr(`Value doesn't match to pattern '${t.toString()}'`)}}class xr{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(Ar(e,pr.Number),!(this.min<=e&&e<=this.max)){const e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new wr(`Value doesn't match to diapason [${e},${t}]`)}}}class Cr{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(Ar(e,pr.Number),!(this.min<e&&e<this.max)){const e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new wr(`Value doesn't match to diapason (${e},${t})`)}}}class Nr{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0===this.length){if(void 0!==this.minLength&&e.length<this.minLength)throw new wr(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new wr(`Value length must be less than ${this.maxLength}.`)}else if(e.length!==this.length)throw new wr(`Value length must be exactly ${this.length}.`)}}class Or{constructor(e){this.enumeration=e}validate(e){if(Ar(e,pr.String),!this.enumeration.includes(e))throw new wr(`Value must be one of ${this.enumeration.map((e=>`'${e}'`)).join(", ")}`)}}class Ur{static checkValues(e,t){const r=Array.isArray(e)?e:[e];for(const n of r)for(const r of t.validations)r instanceof Nr&&t.repeated?r.validate(e):r.validate(n)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw new TypeError("Value must be Array");if("number"===typeof t.type){const r=Array.isArray(e)?e:[e];for(const e of r)Ar(e,t.type)}}static getSchemaByName(e,t="default"){return{...e.names.default,...e.names[t]}}}class Pr extends Ur{static serialize(e,t,r,n){const i=this.toJSON(e,t);return JSON.stringify(i,r,n)}static toJSON(e,t={}){let r,n=t.targetSchema;const i=t.schemaName||kr;if(Sr(e))return e.toJSON();if(Array.isArray(e)){r=[];for(const n of e)r.push(this.toJSON(n,t))}else if("object"===typeof e){if(n&&!Er.has(n))throw new dr("Cannot get schema for `targetSchema` param");if(n=n||e.constructor,Er.has(n)){const t=Er.get(n);r={};const s=this.getSchemaByName(t,i);for(const a in s)try{const t=s[a],o=e[a];let c;if(t.optional&&void 0===o||void 0!==t.defaultValue&&o===t.defaultValue)continue;if(!t.optional&&void 0===o)throw new vr(n.name,`Property '${a}' is required.`);c="number"===typeof t.type?t.converter?t.repeated?o.map((r=>t.converter.toJSON(r,e))):t.converter.toJSON(o,e):o:t.repeated?o.map((e=>this.toJSON(e,{schemaName:i}))):this.toJSON(o,{schemaName:i}),this.checkTypes(c,t),this.checkValues(c,t),r[t.name||a]=c}catch(o){throw o instanceof vr?o:new vr(t.target.name,`Property '${a}' is wrong. ${o.message}`,o)}}else{r={};for(const t in e)r[t]=this.toJSON(e[t],{schemaName:i})}}else r=e;return r}}class Kr extends Ur{static parse(e,t){const r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){const r=t.targetSchema,n=t.schemaName||kr,i=new r;if(Sr(i))return i.fromJSON(e);const o=Er.get(r),s=this.getSchemaByName(o,n),a={};t.strictProperty&&!Array.isArray(e)&&Kr.checkStrictProperty(e,s,o);for(const l in s)try{const r=s[l],a=r.name||l,c=e[a];if(void 0===c&&(r.optional||void 0!==r.defaultValue))continue;if(!r.optional&&void 0===c)throw new mr(o,`Property '${a}' is required.`);if(this.checkTypes(c,r),this.checkValues(c,r),"number"===typeof r.type)r.converter?r.repeated?i[l]=c.map((e=>r.converter.fromJSON(e,i))):i[l]=r.converter.fromJSON(c,i):i[l]=c;else{const e={...t,targetSchema:r.type,schemaName:n};r.repeated?i[l]=c.map((t=>this.fromJSON(t,e))):i[l]=this.fromJSON(c,e)}}catch(u){if(u instanceof mr||(u=new mr(o,`Property '${l}' is wrong. ${u.message}`,u)),!t.strictAllKeys)throw u;a[l]=u}const c=Object.keys(a);if(c.length)throw new br(o,c,a);return i}static checkStrictProperty(e,t,r){const n=Object.keys(e),i=Object.keys(t),o=[];for(const s of n)-1===i.indexOf(s)&&o.push(s);if(o.length)throw new br(r,o)}}const _r=(e={})=>(t,r)=>{const n=`Cannot set type for ${r} property of ${t.constructor.name} schema`;let i;Er.has(t.constructor)?(i=Er.get(t.constructor),i.target!==t.constructor&&(i=Er.create(t.constructor),Er.set(t.constructor,i))):(i=Er.create(t.constructor),Er.set(t.constructor,i));const o={type:pr.Any,validations:[]},s=Object.assign(o,e);if(s.validations=function(e){const t=[];return e.pattern&&t.push(new Br(e.pattern)),e.type!==pr.Number&&e.type!==pr.Any||(void 0===e.minInclusive&&void 0===e.maxInclusive||t.push(new xr(e.minInclusive,e.maxInclusive)),void 0===e.minExclusive&&void 0===e.maxExclusive||t.push(new Cr(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new Or(e.enumeration))),(e.type===pr.String||e.repeated||e.type===pr.Any)&&(void 0===e.length&&void 0===e.minLength&&void 0===e.maxLength||t.push(new Nr(e.length,e.minLength,e.maxLength))),t}(s),"number"!==typeof s.type&&!Er.has(s.type)&&!Sr(s.type))throw new Error(`${n}. Assigning type doesn't have schema.`);let a;a=Array.isArray(e.schema)?e.schema:[e.schema||kr];for(const e of a){i.names[e]||(i.names[e]={});i.names[e][r]=s}};class Ir extends Error{}class Tr extends Ir{}class Rr extends Ir{constructor(e){super("Unsupported operation: "+(e?`${e}`:""))}}class Lr extends Ir{}class Dr extends Ir{constructor(e){super(`${e}: Missing required property`)}}class jr{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new Rr("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...n){if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!r||!r.length)throw new TypeError("Usages cannot be empty when creating a key.");let i;i=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,i)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...n){throw new Rr("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...n){throw new Rr("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,n,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,n,...i){throw new Rr("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...n){throw new Rr("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,n={},...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...n){throw new Rr("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,n={},...i){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,n.keyUsage?"deriveBits":void 0),r%8!==0)throw new Lr("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...n){throw new Rr("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new Ir("key: Is not extractable")}async onExportKey(e,t,...r){throw new Rr("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,n,i,...o){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(i,this.usages)}async onImportKey(e,t,r,n,i,...o){throw new Rr("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new Tr("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(const r of e)if(-1===t.indexOf(r))throw new TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new Ir("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new Dr(t)}checkHashAlgorithm(e,t){for(const r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new Lr(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw new TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw new TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if("object"!==typeof(r=t)||!("kty"in r))throw new TypeError("keyData: Is not JsonWebToken")}else if(!m.vJ.isBufferSource(t))throw new TypeError("keyData: Is not ArrayBufferView or ArrayBuffer");var r}prepareData(e){return m.vJ.toArrayBuffer(e)}}class Mr extends jr{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!==typeof e.length)throw new TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw new TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class Hr extends Mr{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw new TypeError("iv: Must have length 16 bytes")}}class Vr extends Mr{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!==typeof e.length)throw new TypeError("length: Is not a Number");if(e.length<1)throw new Lr("length: Must be more than 0")}}class $r extends Mr{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw new TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw new TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!==typeof e.length)throw new TypeError("length: Is not a Number");if(e.length<1)throw new Lr("length: Must be more than 0")}}class Fr extends Mr{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class Jr extends Mr{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new Lr("iv: Must have length more than 0 and less than 2^64 - 1");switch("tagLength"in e||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new Lr("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class zr extends Mr{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class Gr extends jr{constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw new TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!==typeof e.length)throw new TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new Lr(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class Wr extends jr{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");const t=m.ep.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw new TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw new TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class qr extends Wr{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class Yr extends Wr{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!==typeof e.saltLength)throw new TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw new RangeError("saltLength: Must be positive number")}}class Xr extends Wr{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw new TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class Zr extends jr{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(const t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new Lr(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class Qr extends Zr{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}const en=["secret","private","public"];class tn{static create(e,t,r,n){const i=new this;return i.algorithm=e,i.type=t,i.extractable=r,i.usages=n,i}static isKeyType(e){return-1!==en.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class rn extends Zr{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof tn))throw new TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new Lr("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new Lr(`public: Is not ${this.name} key`)}}class nn extends rn{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class on extends Zr{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let sn=class{constructor(e){e&&(this.value=e)}};(0,yr.__decorate)([cr({type:Ce.ObjectIdentifier})],sn.prototype,"value",void 0),sn=(0,yr.__decorate)([ar({type:xe.Choice})],sn);class an{constructor(e){Object.assign(this,e)}}(0,yr.__decorate)([cr({type:Ce.ObjectIdentifier})],an.prototype,"algorithm",void 0),(0,yr.__decorate)([cr({type:Ce.Any,optional:!0})],an.prototype,"parameters",void 0);class cn{constructor(){this.version=0,this.privateKeyAlgorithm=new an,this.privateKey=new ArrayBuffer(0)}}(0,yr.__decorate)([cr({type:Ce.Integer})],cn.prototype,"version",void 0),(0,yr.__decorate)([cr({type:an})],cn.prototype,"privateKeyAlgorithm",void 0),(0,yr.__decorate)([cr({type:Ce.OctetString})],cn.prototype,"privateKey",void 0),(0,yr.__decorate)([cr({type:Ce.Any,optional:!0})],cn.prototype,"attributes",void 0);class un{constructor(){this.publicKeyAlgorithm=new an,this.publicKey=new ArrayBuffer(0)}}(0,yr.__decorate)([cr({type:an})],un.prototype,"publicKeyAlgorithm",void 0),(0,yr.__decorate)([cr({type:Ce.BitString})],un.prototype,"publicKey",void 0);const ln={fromJSON:e=>m.ep.FromBase64Url(e),toJSON:e=>m.ep.ToBase64Url(new Uint8Array(e))},hn={fromASN:e=>{const t=e.valueBlock.valueHex;return new Uint8Array(t)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1)},toASN:e=>{const t=new Uint8Array(e)[0]>127?(0,m.$e)(new Uint8Array([0]).buffer,e):e;return new ze({valueHex:t})}};class fn{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}(0,yr.__decorate)([cr({type:Ce.Integer,converter:It})],fn.prototype,"version",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"n",converter:ln})],fn.prototype,"modulus",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"e",converter:ln})],fn.prototype,"publicExponent",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"d",converter:ln})],fn.prototype,"privateExponent",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"p",converter:ln})],fn.prototype,"prime1",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"q",converter:ln})],fn.prototype,"prime2",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"dp",converter:ln})],fn.prototype,"exponent1",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"dq",converter:ln})],fn.prototype,"exponent2",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"qi",converter:ln})],fn.prototype,"coefficient",void 0),(0,yr.__decorate)([cr({type:Ce.Any,optional:!0})],fn.prototype,"otherPrimeInfos",void 0);class pn{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"n",converter:ln})],pn.prototype,"modulus",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:hn}),_r({name:"e",converter:ln})],pn.prototype,"publicExponent",void 0);let yn=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new Ir("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");e=new Uint8Array(this.value.slice(1));const t=e.length/2;return{x:m.ep.ToBase64Url(e.buffer.slice(0,0+t)),y:m.ep.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw new Error("x: Missing required property");if(!("y"in e))throw new Error("y: Missing required property");const t=m.ep.FromBase64Url(e.x),r=m.ep.FromBase64Url(e.y),n=(0,m.$e)(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(n).buffer,this}};(0,yr.__decorate)([cr({type:Ce.OctetString})],yn.prototype,"value",void 0),yn=(0,yr.__decorate)([ar({type:xe.Choice})],yn);class dn{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw new Error("d: Missing required property");if(this.privateKey=m.ep.FromBase64Url(e.d),"x"in e){const t=new yn;t.fromJSON(e),this.publicKey=hr.toASN(t).valueBlock.valueHex}return this}toJSON(){const e={};return e.d=m.ep.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new yn(this.publicKey).toJSON()),e}}(0,yr.__decorate)([cr({type:Ce.Integer,converter:It})],dn.prototype,"version",void 0),(0,yr.__decorate)([cr({type:Ce.OctetString})],dn.prototype,"privateKey",void 0),(0,yr.__decorate)([cr({context:0,type:Ce.Any,optional:!0})],dn.prototype,"parameters",void 0),(0,yr.__decorate)([cr({context:1,type:Ce.BitString,optional:!0})],dn.prototype,"publicKey",void 0);const gn={fromASN:e=>{const t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{const t=new Uint8Array(e);if(t[0]>127){const e=new Uint8Array(t.length+1);return e.set(t,1),new ze({valueHex:e.buffer})}return new ze({valueHex:e})}};var mn=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:gn});class wn{static decodePoint(e,t){const r=m.vJ.toUint8Array(e);if(0===r.length||4!==r[0])throw new Error("Only uncompressed point format supported");const n=(r.length-1)/2;if(n!==Math.ceil(t/8))throw new Error("Point does not match field size");return{x:r.slice(1,n+1),y:r.slice(n+1,n+1+n)}}static encodePoint(e,t){const r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw new Error("X,Y coordinates don't match point size criteria");const n=m.vJ.toUint8Array(e.x),i=m.vJ.toUint8Array(e.y),o=new Uint8Array(2*r+1);return o[0]=4,o.set(n,1),o.set(i,r+1),o}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){const r=this.getSize(t),n=m.vJ.toUint8Array(e.r),i=m.vJ.toUint8Array(e.s),o=new Uint8Array(2*r);return o.set(this.padStart(n,r)),o.set(this.padStart(i,r),r),o}static decodeSignature(e,t){const r=this.getSize(t),n=m.vJ.toUint8Array(e);if(n.length!==2*r)throw new Error("Incorrect size of the signature");const i=n.slice(0,r),o=n.slice(r);return{r:this.trimStart(i),s:this.trimStart(o)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;const r=new Uint8Array(t);return r.set(e,t-e.length),r}}class vn{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){const t=e.byteLength/2,r=wn.decodeSignature(e,8*t),n=new vn;return n.r=m.vJ.toArrayBuffer(r.r),n.s=m.vJ.toArrayBuffer(r.s),n}toWebCryptoSignature(e){null!==e&&void 0!==e||(e=8*Math.max(this.r.byteLength,this.s.byteLength));return wn.encodeSignature(this,e).buffer}}(0,yr.__decorate)([cr({type:Ce.Integer,converter:gn})],vn.prototype,"r",void 0),(0,yr.__decorate)([cr({type:Ce.Integer,converter:gn})],vn.prototype,"s",void 0);class bn extends cn{}(0,yr.__decorate)([cr({context:1,implicit:!0,type:Ce.BitString,optional:!0})],bn.prototype,"publicKey",void 0);let An=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw new Error("d: Missing required property");return this.value=m.ep.FromBase64Url(e.d),this}toJSON(){return{d:m.ep.ToBase64Url(this.value)}}};(0,yr.__decorate)([cr({type:Ce.OctetString})],An.prototype,"value",void 0),An=(0,yr.__decorate)([ar({type:xe.Choice})],An);let Sn=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:m.ep.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw new Error("x: Missing required property");return this.value=m.ep.FromBase64Url(e.x),this}};(0,yr.__decorate)([cr({type:Ce.BitString})],Sn.prototype,"value",void 0),Sn=(0,yr.__decorate)([ar({type:xe.Choice})],Sn);let kn=class{};(0,yr.__decorate)([cr({type:Ce.OctetString}),_r({type:pr.String,converter:ln})],kn.prototype,"d",void 0),kn=(0,yr.__decorate)([ar({type:xe.Choice})],kn);const En="1.2.840.10045.3.1.7",Bn="1.3.132.0",xn="1.3.132.0.34",Cn="1.3.132.0.35",Nn="1.3.132.0.10",On="1.3.36.3.3.2.8.1.1",Un=`${On}.1`,Pn=`${On}.2`,Kn=`${On}.3`,_n=`${On}.4`,In=`${On}.5`,Tn=`${On}.6`,Rn=`${On}.7`,Ln=`${On}.8`,Dn=`${On}.9`,jn=`${On}.10`,Mn=`${On}.11`,Hn=`${On}.12`,Vn=`${On}.13`,$n=`${On}.14`;var Fn=Object.freeze({__proto__:null,converters:mn,get ObjectIdentifier(){return sn},AlgorithmIdentifier:an,PrivateKeyInfo:cn,PublicKeyInfo:un,RsaPrivateKey:fn,RsaPublicKey:pn,EcPrivateKey:dn,get EcPublicKey(){return yn},EcDsaSignature:vn,OneAsymmetricKey:bn,get EdPrivateKey(){return An},get EdPublicKey(){return Sn},get CurvePrivateKey(){return kn},idSecp256r1:En,idEllipticCurve:Bn,idSecp384r1:xn,idSecp521r1:Cn,idSecp256k1:Nn,idVersionOne:On,idBrainpoolP160r1:Un,idBrainpoolP160t1:Pn,idBrainpoolP192r1:Kn,idBrainpoolP192t1:_n,idBrainpoolP224r1:In,idBrainpoolP224t1:Tn,idBrainpoolP256r1:Rn,idBrainpoolP256t1:Ln,idBrainpoolP320r1:Dn,idBrainpoolP320t1:jn,idBrainpoolP384r1:Mn,idBrainpoolP384t1:Hn,idBrainpoolP512r1:Vn,idBrainpoolP512t1:$n,idX25519:"1.3.101.110",idX448:"1.3.101.111",idEd25519:"1.3.101.112",idEd448:"1.3.101.113"});class Jn{constructor(){}static register(e){const t=new sn;t.value=e.id;const r=fr.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){e=e.toUpperCase();for(const t of this.items)if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){const t=this.find(e);if(!t)throw new Error(`Unsupported EC named curve '${e}'`);return t}}Jn.items=[],Jn.names=[],Jn.register({name:"P-256",id:En,size:256}),Jn.register({name:"P-384",id:xn,size:384}),Jn.register({name:"P-521",id:Cn,size:521}),Jn.register({name:"K-256",id:Nn,size:256}),Jn.register({name:"brainpoolP160r1",id:Un,size:160}),Jn.register({name:"brainpoolP160t1",id:Pn,size:160}),Jn.register({name:"brainpoolP192r1",id:Kn,size:192}),Jn.register({name:"brainpoolP192t1",id:_n,size:192}),Jn.register({name:"brainpoolP224r1",id:In,size:224}),Jn.register({name:"brainpoolP224t1",id:Tn,size:224}),Jn.register({name:"brainpoolP256r1",id:Rn,size:256}),Jn.register({name:"brainpoolP256t1",id:Ln,size:256}),Jn.register({name:"brainpoolP320r1",id:Dn,size:320}),Jn.register({name:"brainpoolP320t1",id:jn,size:320}),Jn.register({name:"brainpoolP384r1",id:Mn,size:384}),Jn.register({name:"brainpoolP384t1",id:Hn,size:384}),Jn.register({name:"brainpoolP512r1",id:Vn,size:512}),Jn.register({name:"brainpoolP512t1",id:$n,size:512});class zn extends jr{constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw new Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!==typeof e.length)throw new TypeError("length: Is not a Number");if(e.length<1)throw new RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class Gn extends jr{constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!==typeof e.iterations)throw new TypeError("iterations: Is not a Number");if(e.iterations<1)throw new TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,n,i,...o){if(super.checkImportKey(e,t,r,n,i),n)throw new SyntaxError("extractable: Must be 'false'")}}class Wn extends jr{constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!m.vJ.isBufferSource(e.salt))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"info"),!m.vJ.isBufferSource(e.info))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,n,i,...o){if(super.checkImportKey(e,t,r,n,i),n)throw new SyntaxError("extractable: Must be 'false'")}}class qn extends jr{constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);const r=e.length||0;if("number"!==typeof r)throw new TypeError("length: Is not a Number");if(r<0)throw new TypeError("length: Is negative")}}class Yn extends qn{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class Xn extends qn{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class Zn{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){const e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=m.ep.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16)}`}}class Qn{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){const t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){const e=[];for(const t in this.items){const r=this.items[t];e.push(r.name)}return e.sort()}}class ei{constructor(){this.providers=new Qn}static isHashedAlgorithm(e){return!!(e&&"object"===typeof e&&"name"in e&&"hash"in e)}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");const[t,r,...n]=e,i=this.prepareAlgorithm(t),o=m.vJ.toArrayBuffer(r),s=this.getProvider(i.name);return await s.digest(i,o,...n)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");const[t,r,n,...i]=e,o=this.prepareAlgorithm(t),s=this.getProvider(o.name);return await s.generateKey({...o,name:s.name},r,n,...i)}async sign(...e){this.checkRequiredArguments(e,3,"sign");const[t,r,n,...i]=e;this.checkCryptoKey(r);const o=this.prepareAlgorithm(t),s=m.vJ.toArrayBuffer(n),a=this.getProvider(o.name);return await a.sign({...o,name:a.name},r,s,...i)}async verify(...e){this.checkRequiredArguments(e,4,"verify");const[t,r,n,i,...o]=e;this.checkCryptoKey(r);const s=this.prepareAlgorithm(t),a=m.vJ.toArrayBuffer(i),c=m.vJ.toArrayBuffer(n),u=this.getProvider(s.name);return await u.verify({...s,name:u.name},r,c,a,...o)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");const[t,r,n,...i]=e;this.checkCryptoKey(r);const o=this.prepareAlgorithm(t),s=m.vJ.toArrayBuffer(n),a=this.getProvider(o.name);return await a.encrypt({...o,name:a.name},r,s,{keyUsage:!0},...i)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");const[t,r,n,...i]=e;this.checkCryptoKey(r);const o=this.prepareAlgorithm(t),s=m.vJ.toArrayBuffer(n),a=this.getProvider(o.name);return await a.decrypt({...o,name:a.name},r,s,{keyUsage:!0},...i)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");const[t,r,n,...i]=e;this.checkCryptoKey(r);const o=this.prepareAlgorithm(t),s=this.getProvider(o.name);return await s.deriveBits({...o,name:s.name},r,n,{keyUsage:!0},...i)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");const[t,r,n,i,o,...s]=e,a=this.prepareAlgorithm(n);this.getProvider(a.name).checkDerivedKeyParams(a);const c=this.prepareAlgorithm(t),u=this.getProvider(c.name);u.checkCryptoKey(r,"deriveKey");const l=await u.deriveBits({...c,name:u.name},r,n.length||512,{keyUsage:!1},...s);return this.importKey("raw",l,n,i,o,...s)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");const[t,r,...n]=e;this.checkCryptoKey(r);const i=this.getProvider(r.algorithm.name);return await i.exportKey(t,r,...n)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");const[t,r,n,i,o,...s]=e,a=this.prepareAlgorithm(n),c=this.getProvider(a.name);if(-1!==["pkcs8","spki","raw"].indexOf(t)){const e=m.vJ.toArrayBuffer(r);return c.importKey(t,e,{...a,name:c.name},i,o,...s)}if(!r.kty)throw new TypeError("keyData: Is not JSON");return c.importKey(t,r,{...a,name:c.name},i,o,...s)}async wrapKey(e,t,r,n,...i){let o=await this.exportKey(e,t,...i);if("jwk"===e){const e=JSON.stringify(o);o=m.ep.FromUtf8String(e)}const s=this.prepareAlgorithm(n),a=m.vJ.toArrayBuffer(o),c=this.getProvider(s.name);return c.encrypt({...s,name:c.name},r,a,{keyUsage:!1},...i)}async unwrapKey(e,t,r,n,i,o,s,...a){const c=this.prepareAlgorithm(n),u=m.vJ.toArrayBuffer(t),l=this.getProvider(c.name);let h=await l.decrypt({...c,name:l.name},r,u,{keyUsage:!1},...a);if("jwk"===e)try{h=JSON.parse(m.ep.ToUtf8String(h))}catch(f){const e=new TypeError("wrappedKey: Is not a JSON");throw e.internal=f,e}return this.importKey(e,h,i,o,s,...a)}checkRequiredArguments(e,t,r){if(e.length<t)throw new TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"===typeof e)return{name:e};if(ei.isHashedAlgorithm(e)){const t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){const t=this.providers.get(e);if(!t)throw new Tr("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof tn))throw new TypeError("Key is not of type 'CryptoKey'")}}var ti=r(2474),ri=r.n(ti),ni=r(3454);function ii(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}Object.create;Object.create;var oi=r(8764).Buffer;const si={fromJSON:e=>oi.from(m.ep.FromBase64Url(e)),toJSON:e=>m.ep.ToBase64Url(e)};class ai extends tn{constructor(){super(...arguments),this.data=oi.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}ii([_r({name:"ext",type:pr.Boolean,optional:!0})],ai.prototype,"extractable",void 0),ii([_r({name:"key_ops",type:pr.String,repeated:!0,optional:!0})],ai.prototype,"usages",void 0),ii([_r({type:pr.String})],ai.prototype,"kty",void 0),ii([_r({type:pr.String,optional:!0})],ai.prototype,"alg",void 0);class ci extends ai{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class ui extends ai{}class li extends ci{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new Tr("Unsupported algorithm name")}}set alg(e){}}ii([_r({name:"k",converter:si})],li.prototype,"data",void 0);const hi=new WeakMap;function fi(e){const t=hi.get(e);if(!t)throw new Lr("Cannot get CryptoKey from secure storage");return t}function pi(e){const t=tn.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),hi.set(t,e),t}class yi{static async generateKey(e,t,r){const n=new li;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=ri().randomBytes(e.length>>3),n}static async exportKey(e,t){if(!(t instanceof li))throw new Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return Pr.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new Lr("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=Kr.fromJSON(t,{targetSchema:li});break;case"raw":o=new li,o.data=oi.from(t);break;default:throw new Lr("format: Must be 'jwk' or 'raw'")}switch(o.algorithm=r,o.algorithm.length=o.data.length<<3,o.extractable=n,o.usages=i,o.algorithm.length){case 128:case 192:case 256:break;default:throw new Lr("keyData: Is wrong key length")}return o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,oi.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,oi.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,oi.from(r));case"AES-KW":return this.encryptAesKW(e,t,oi.from(r));case"AES-ECB":return this.encryptAesECB(e,t,oi.from(r));default:throw new Lr("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof li))throw new Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,oi.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,oi.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,oi.from(r));case"AES-KW":return this.decryptAesKW(e,t,oi.from(r));case"AES-ECB":return this.decryptAesECB(e,t,oi.from(r));default:throw new Lr("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){const n=ri().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv));let i=n.update(r);i=oi.concat([i,n.final()]);return new Uint8Array(i).buffer}static async decryptAesCBC(e,t,r){const n=ri().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv));let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}static async encryptAesCTR(e,t,r){const n=ri().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,oi.from(e.counter));let i=n.update(r);i=oi.concat([i,n.final()]);return new Uint8Array(i).buffer}static async decryptAesCTR(e,t,r){const n=ri().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter));let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}static async encryptAesGCM(e,t,r){const n=ri().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,oi.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&n.setAAD(oi.from(e.additionalData));let i=n.update(r);i=oi.concat([i,n.final(),n.getAuthTag()]);return new Uint8Array(i).buffer}static async decryptAesGCM(e,t,r){const n=ri().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv)),i=(e.tagLength||128)>>3,o=r.slice(0,r.length-i),s=r.slice(r.length-i);e.additionalData&&n.setAAD(oi.from(e.additionalData)),n.setAuthTag(s);let a=n.update(o);return a=oi.concat([a,n.final()]),new Uint8Array(a).buffer}static async encryptAesKW(e,t,r){const n=ri().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV);let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}static async decryptAesKW(e,t,r){const n=ri().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV);let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}static async encryptAesECB(e,t,r){const n=ri().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0));let i=n.update(r);i=oi.concat([i,n.final()]);return new Uint8Array(i).buffer}static async decryptAesECB(e,t,r){const n=ri().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0));let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}}yi.AES_KW_IV=oi.from("A6A6A6A6A6A6A6A6","hex");class di extends Hr{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return yi.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return yi.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}const gi=oi.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),mi=oi.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]),wi=16;function vi(e){const t=oi.alloc(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1,128&e[n+1]&&(t[n]+=1);return t[r]=e[r]<<1,t}function bi(e,t){const r=Math.min(e.length,t.length),n=oi.alloc(r);for(let i=0;i<r;i++)n[i]=e[i]^t[i];return n}function Ai(e,t){const r=ti.createCipheriv("aes"+(e.length<<3),e,gi),n=r.update(t);return r.final(),n}function Si(e,t){const r=oi.alloc(wi),n=t*wi,i=n+wi;return e.copy(r,0,n,i),r}function ki(e,t){const r=function(e){const t=Ai(e,gi);let r=vi(t);128&t[0]&&(r=bi(r,mi));let n=vi(r);return 128&r[0]&&(n=bi(n,mi)),{subkey1:r,subkey2:n}}(e);let n,i,o=Math.ceil(t.length/wi);0===o?(o=1,n=!1):n=t.length%wi===0;const s=o-1;i=n?bi(Si(t,s),r.subkey1):bi(function(e,t){const r=oi.alloc(wi),n=t*wi,i=e.length;return r.fill(0),e.copy(r,0,n,i),r[i-n]=128,r}(t,s),r.subkey2);let a,c=gi;for(let u=0;u<s;u++)a=bi(c,Si(t,u)),c=Ai(e,a);return a=bi(i,c),Ai(e,a)}class Ei extends Vr{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){const n=ki(fi(t).data,oi.from(r));return new Uint8Array(n).buffer}async onVerify(e,t,r,n){const i=await this.sign(e,t,n);return 0===oi.from(r).compare(oi.from(i))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}class Bi extends $r{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return yi.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return yi.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}class xi extends Jr{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return yi.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return yi.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}class Ci extends zr{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}async onEncrypt(e,t,r){return yi.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return yi.decrypt(e,fi(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}class Ni extends Fr{async onGenerateKey(e,t,r){return pi(await yi.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return yi.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return yi.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return yi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await yi.importKey(e,t,{name:r.name},n,i))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof li))throw new TypeError("key: Is not a AesCryptoKey")}}class Oi extends ci{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new Tr("Unsupported algorithm name")}}set alg(e){}}ii([_r({name:"k",converter:si})],Oi.prototype,"data",void 0);class Ui{static async generateKey(e,t,r){const n=new Oi;return n.algorithm=e,n.extractable=t,n.usages=r,n.data=ri().randomBytes(e.length>>3),n}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return Pr.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new Lr("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=Kr.fromJSON(t,{targetSchema:Oi});break;case"raw":o=new Oi,o.data=oi.from(t);break;default:throw new Lr("format: Must be 'jwk' or 'raw'")}return o.algorithm=r,o.extractable=n,o.usages=i,o}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,oi.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,oi.from(r));default:throw new Lr("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof Oi))throw new Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,oi.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,oi.from(r));default:throw new Lr("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){const n=ri().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv));let i=n.update(r);i=oi.concat([i,n.final()]);return new Uint8Array(i).buffer}static async decryptDesCBC(e,t,r){const n=ri().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv));let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}static async encryptDesEDE3CBC(e,t,r){const n=ri().createCipheriv("des-ede3-cbc",t.data,oi.from(e.iv));let i=n.update(r);i=oi.concat([i,n.final()]);return new Uint8Array(i).buffer}static async decryptDesEDE3CBC(e,t,r){const n=ri().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv));let i=n.update(r);return i=oi.concat([i,n.final()]),new Uint8Array(i).buffer}}class Pi extends Gr{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return pi(await Ui.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return Ui.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return Ui.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return Ui.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){const o=await Ui.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(o.data.length!==this.keySizeBits>>3)throw new Lr("keyData: Wrong key size");return pi(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof Oi))throw new TypeError("key: Is not a DesCryptoKey")}}class Ki extends Gr{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return pi(await Ui.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return Ui.encrypt(e,fi(t),new Uint8Array(r))}async onDecrypt(e,t,r){return Ui.decrypt(e,fi(t),new Uint8Array(r))}async onExportKey(e,t){return Ui.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){const o=await Ui.importKey(e,t,{name:this.name,length:this.keySizeBits},n,i);if(o.data.length!==this.keySizeBits>>3)throw new Lr("keyData: Wrong key size");return pi(o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof Oi))throw new TypeError("key: Is not a DesCryptoKey")}}function _i(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{const t=/(\d+)$/.exec(e.hash.name)[1];return"RSA-OAEP"+("1"!==t?`-${t}`:"")}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new Lr("algorithm: Is not recognized")}}class Ii extends ui{constructor(){super(...arguments),this.type="private"}getKey(){const e=lr.parse(this.data,Fn.PrivateKeyInfo);return lr.parse(e.privateKey,Fn.RsaPrivateKey)}toJSON(){const e=this.getKey(),t={kty:"RSA",alg:_i(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(t,Pr.toJSON(e))}fromJSON(e){const t=Kr.fromJSON(e,{targetSchema:Fn.RsaPrivateKey}),r=new Fn.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=hr.serialize(t),this.data=oi.from(hr.serialize(r))}}class Ti extends ui{constructor(){super(...arguments),this.type="public"}getKey(){const e=lr.parse(this.data,Fn.PublicKeyInfo);return lr.parse(e.publicKey,Fn.RsaPublicKey)}toJSON(){const e=this.getKey(),t={kty:"RSA",alg:_i(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(t,Pr.toJSON(e))}fromJSON(e){const t=Kr.fromJSON(e,{targetSchema:Fn.RsaPublicKey}),r=new Fn.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=hr.serialize(t),this.data=oi.from(hr.serialize(r))}}class Ri{static async generateKey(e,t,r){const n=new Ii;n.algorithm=e,n.extractable=t,n.usages=r.filter((e=>-1!==this.privateKeyUsages.indexOf(e)));const i=new Ti;i.algorithm=e,i.extractable=!0,i.usages=r.filter((e=>-1!==this.publicKeyUsages.indexOf(e)));const o=oi.concat([oi.alloc(4-e.publicExponent.byteLength,0),oi.from(e.publicExponent)]).readInt32BE(0),s=ri().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:o,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});n.data=s.privateKey,i.data=s.publicKey;return{privateKey:n,publicKey:i}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return Pr.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new Lr("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){const e=Kr.fromJSON(t,{targetSchema:Fn.RsaPrivateKey});return this.importPrivateKey(e,r,n,i)}{const e=Kr.fromJSON(t,{targetSchema:Fn.RsaPublicKey});return this.importPublicKey(e,r,n,i)}case"spki":{const e=lr.parse(new Uint8Array(t),Fn.PublicKeyInfo),o=lr.parse(e.publicKey,Fn.RsaPublicKey);return this.importPublicKey(o,r,n,i)}case"pkcs8":{const e=lr.parse(new Uint8Array(t),Fn.PrivateKeyInfo),o=lr.parse(e.privateKey,Fn.RsaPrivateKey);return this.importPrivateKey(o,r,n,i)}default:throw new Lr("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new Lr("algorithm: Is not recognized")}}static async verify(e,t,r,n){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,n,r);default:throw new Lr("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new Lr("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new Lr("algorithm: Is not recognized")}static importPrivateKey(e,t,r,n){const i=new Fn.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.privateKeyAlgorithm.parameters=null,i.privateKey=hr.serialize(e);const o=new Ii;return o.data=oi.from(hr.serialize(i)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=n,o}static importPublicKey(e,t,r,n){const i=new Fn.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",i.publicKeyAlgorithm.parameters=null,i.publicKey=hr.serialize(e);const o=new Ti;return o.data=oi.from(hr.serialize(i)),o.algorithm=Object.assign({},t),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=r,o.usages=n,o}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new Lr("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){const n=this.getCryptoAlgorithm(t.algorithm),i=ri().createSign(n);i.update(oi.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----\n${t.data.toString("base64")}\n-----END PRIVATE KEY-----`);const o={key:t.pem};"RSA-PSS"===e.name.toUpperCase()&&(o.padding=ri().constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength);const s=i.sign(o);return new Uint8Array(s).buffer}static verifySSA(e,t,r,n){const i=this.getCryptoAlgorithm(t.algorithm),o=ri().createVerify(i);o.update(oi.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----\n${t.data.toString("base64")}\n-----END PUBLIC KEY-----`);const s={key:t.pem};"RSA-PSS"===e.name.toUpperCase()&&(s.padding=ri().constants.RSA_PKCS1_PSS_PADDING,s.saltLength=e.saltLength);return o.verify(s,n)}static encryptOAEP(e,t,r){const n={key:`-----BEGIN PUBLIC KEY-----\n${t.data.toString("base64")}\n-----END PUBLIC KEY-----`,padding:ri().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(ri().publicEncrypt(n,r)).buffer}static decryptOAEP(e,t,r){const n={key:`-----BEGIN PRIVATE KEY-----\n${t.data.toString("base64")}\n-----END PRIVATE KEY-----`,padding:ri().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(ri().privateDecrypt(n,r)).buffer}}Ri.publicKeyUsages=["verify","encrypt","wrapKey"],Ri.privateKeyUsages=["sign","decrypt","unwrapKey"];class Li extends qr{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){const n=await Ri.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onSign(e,t,r){return Ri.sign(e,fi(t),new Uint8Array(r))}async onVerify(e,t,r,n){return Ri.verify(e,fi(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return Ri.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Ri.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Ii||r instanceof Ti))throw new TypeError("key: Is not RSA CryptoKey")}}class Di extends Yr{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){const n=await Ri.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onSign(e,t,r){return Ri.sign(e,fi(t),new Uint8Array(r))}async onVerify(e,t,r,n){return Ri.verify(e,fi(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return Ri.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Ri.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Ii||r instanceof Ti))throw new TypeError("key: Is not RSA CryptoKey")}}class ji{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw new Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw new Error("Unrecognized name")}}static digest(e,t){const r=this.getAlgorithmName(e),n=ri().createHash(r).update(oi.from(t)).digest();return new Uint8Array(n).buffer}}class Mi extends Xr{async onGenerateKey(e,t,r){const n=await Ri.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onEncrypt(e,t,r){const n=fi(t),i=new Uint8Array(r),o=Math.ceil(n.algorithm.modulusLength>>3),s=ji.size(n.algorithm.hash)>>3,a=i.byteLength,c=o-a-2*s-2;if(a>o-2*s-2)throw new Error("Data too large");const u=new Uint8Array(o),l=u.subarray(1,s+1),h=u.subarray(s+1);h.set(i,s+c+1);const f=ri().createHash(n.algorithm.hash.name.replace("-","")).update(m.vJ.toUint8Array(e.label||new Uint8Array(0))).digest();h.set(f,0),h[s+c]=1,ri().randomFillSync(l);const p=this.mgf1(n.algorithm.hash,l,h.length);for(let g=0;g<h.length;g++)h[g]^=p[g];const y=this.mgf1(n.algorithm.hash,h,l.length);for(let g=0;g<l.length;g++)l[g]^=y[g];n.pem||(n.pem=`-----BEGIN PUBLIC KEY-----\n${n.data.toString("base64")}\n-----END PUBLIC KEY-----`);const d=ri().publicEncrypt({key:n.pem,padding:ri().constants.RSA_NO_PADDING},oi.from(u));return new Uint8Array(d).buffer}async onDecrypt(e,t,r){const n=fi(t),i=Math.ceil(n.algorithm.modulusLength>>3),o=ji.size(n.algorithm.hash)>>3;if(r.byteLength!==i)throw new Error("Bad data");n.pem||(n.pem=`-----BEGIN PRIVATE KEY-----\n${n.data.toString("base64")}\n-----END PRIVATE KEY-----`);let s=ri().privateDecrypt({key:n.pem,padding:ri().constants.RSA_NO_PADDING},oi.from(r));const a=s[0],c=s.subarray(1,o+1),u=s.subarray(o+1);if(0!==a)throw new Error("Decryption failed");const l=this.mgf1(n.algorithm.hash,u,c.length);for(let y=0;y<c.length;y++)c[y]^=l[y];const h=this.mgf1(n.algorithm.hash,c,u.length);for(let y=0;y<u.length;y++)u[y]^=h[y];const f=ri().createHash(n.algorithm.hash.name.replace("-","")).update(m.vJ.toUint8Array(e.label||new Uint8Array(0))).digest();for(let y=0;y<o;y++)if(f[y]!==u[y])throw new Error("Decryption failed");let p=o;for(;p<u.length;p++){const e=u[p];if(1===e)break;if(0!==e)throw new Error("Decryption failed")}if(p===u.length)throw new Error("Decryption failed");return s=u.subarray(p+1),new Uint8Array(s).buffer}async onExportKey(e,t){return Ri.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Ri.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Ii||r instanceof Ti))throw new TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){const n=ji.size(e)>>3,i=new Uint8Array(r),o=new Uint8Array(4),s=Math.ceil(r/n);for(let a=0;a<s;a++){o[0]=a>>>24,o[1]=a>>>16&255,o[2]=a>>>8&255,o[3]=255&a;const r=i.subarray(a*n);let s=ri().createHash(e.name.replace("-","")).update(t).update(o).digest();s.length>r.length&&(s=s.subarray(0,r.length)),r.set(s)}return i}}class Hi extends jr{constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){const n=await Ri.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");const t=m.ep.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw new TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){const n=this.toCryptoOptions(t),i=ti.publicEncrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onDecrypt(e,t,r){const n=this.toCryptoOptions(t),i=ti.privateDecrypt(n,new Uint8Array(r));return new Uint8Array(i).buffer}async onExportKey(e,t){return Ri.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Ri.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Ii||r instanceof Ti))throw new TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){const t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----\n${fi(e).data.toString("base64")}\n-----END ${t} KEY-----`,padding:ti.constants.RSA_PKCS1_PADDING}}}const Vi={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function $i(e){const t=Vi[e];if(!t)throw new Lr(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class Fi extends ui{constructor(){super(...arguments),this.type="private"}getKey(){const e=lr.parse(this.data,Fn.PrivateKeyInfo);return lr.parse(e.privateKey,Fn.EcPrivateKey)}toJSON(){const e=this.getKey(),t={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(t,Pr.toJSON(e))}fromJSON(e){if(!e.crv)throw new Lr("Cannot get named curve from JWK. Property 'crv' is required");const t=new Fn.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=hr.serialize(new Fn.ObjectIdentifier($i(e.crv)));const r=Kr.fromJSON(e,{targetSchema:Fn.EcPrivateKey});return t.privateKey=hr.serialize(r),this.data=oi.from(hr.serialize(t)),this}}class Ji extends ui{constructor(){super(...arguments),this.type="public"}getKey(){const e=lr.parse(this.data,Fn.PublicKeyInfo);return new Fn.EcPublicKey(e.publicKey)}toJSON(){const e=this.getKey(),t={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(t,Pr.toJSON(e))}fromJSON(e){if(!e.crv)throw new Lr("Cannot get named curve from JWK. Property 'crv' is required");const t=Kr.fromJSON(e,{targetSchema:Fn.EcPublicKey}),r=new Fn.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=hr.serialize(new Fn.ObjectIdentifier($i(e.crv))),r.publicKey=hr.toASN(t).valueHex,this.data=oi.from(hr.serialize(r)),this}}class zi extends jr{constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Gi extends jr{constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Wi extends jr{constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class qi extends jr{constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Yi extends jr{constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Xi extends jr{constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Zi extends jr{constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return ji.digest(e,t)}}class Qi{static async generateKey(e,t,r){const n=new Fi;n.algorithm=e,n.extractable=t,n.usages=r.filter((e=>-1!==this.privateKeyUsages.indexOf(e)));const i=new Ji;i.algorithm=e,i.extractable=!0,i.usages=r.filter((e=>-1!==this.publicKeyUsages.indexOf(e)));const o=ri().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});n.data=o.privateKey,i.data=o.publicKey;return{privateKey:n,publicKey:i}}static async sign(e,t,r){const n=ji.getAlgorithmName(e.hash),i=ri().createSign(n);i.update(oi.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----\n${t.data.toString("base64")}\n-----END PRIVATE KEY-----`);const o={key:t.pem},s=i.sign(o),a=lr.parse(s,Fn.EcDsaSignature);return wn.encodeSignature(a,Jn.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,n){const i=ji.getAlgorithmName(e.hash),o=ri().createVerify(i);o.update(oi.from(n)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----\n${t.data.toString("base64")}\n-----END PUBLIC KEY-----`);const s={key:t.pem},a=new Fn.EcDsaSignature,c=Jn.get(t.algorithm.namedCurve),u=wn.decodeSignature(r,c.size);a.r=m.vJ.toArrayBuffer(u.r),a.s=m.vJ.toArrayBuffer(u.s);const l=oi.from(hr.serialize(a));return o.verify(s,l)}static async deriveBits(e,t,r){const n=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),i=ri().createECDH(n),o=lr.parse(t.data,Fn.PrivateKeyInfo),s=lr.parse(o.privateKey,Fn.EcPrivateKey);i.setPrivateKey(oi.from(s.privateKey));const a=lr.parse(e.public.data,Fn.PublicKeyInfo),c=i.computeSecret(oi.from(a.publicKey));return null===r?c:new Uint8Array(c).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return Pr.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return lr.parse(t.data,Fn.PublicKeyInfo).publicKey;default:throw new Lr("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":if(t.d){const e=Kr.fromJSON(t,{targetSchema:Fn.EcPrivateKey});return this.importPrivateKey(e,r,n,i)}{const e=Kr.fromJSON(t,{targetSchema:Fn.EcPublicKey});return this.importPublicKey(e,r,n,i)}case"raw":{const e=new Fn.EcPublicKey(t);return this.importPublicKey(e,r,n,i)}case"spki":{const e=lr.parse(new Uint8Array(t),Fn.PublicKeyInfo),o=new Fn.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(o,r,n,i)}case"pkcs8":{const e=lr.parse(new Uint8Array(t),Fn.PrivateKeyInfo),o=lr.parse(e.privateKey,Fn.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(o,r,n,i)}default:throw new Lr("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new Ir("Key info doesn't have required parameters");let r="";try{r=lr.parse(e,Fn.ObjectIdentifier).value}catch(n){throw new Ir("Cannot read key info parameters")}if($i(t)!==r)throw new Ir("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,n){const i=new Fn.PrivateKeyInfo;i.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",i.privateKeyAlgorithm.parameters=hr.serialize(new Fn.ObjectIdentifier($i(t.namedCurve))),i.privateKey=hr.serialize(e);const o=new Fi;return o.data=oi.from(hr.serialize(i)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=n,o}static async importPublicKey(e,t,r,n){const i=new Fn.PublicKeyInfo;i.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";const o=$i(t.namedCurve);i.publicKeyAlgorithm.parameters=hr.serialize(new Fn.ObjectIdentifier(o)),i.publicKey=e.value;const s=new Ji;return s.data=oi.from(hr.serialize(i)),s.algorithm=Object.assign({},t),s.extractable=r,s.usages=n,s}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}Qi.publicKeyUsages=["verify"],Qi.privateKeyUsages=["sign","deriveKey","deriveBits"];class eo extends Qr{constructor(){super(...arguments),this.namedCurves=Jn.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){const n=await Qi.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onSign(e,t,r){return Qi.sign(e,fi(t),new Uint8Array(r))}async onVerify(e,t,r,n){return Qi.verify(e,fi(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return Qi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Qi.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Fi||r instanceof Ji))throw new TypeError("key: Is not EC CryptoKey")}}class to extends rn{constructor(){super(...arguments),this.namedCurves=Jn.names}async onGenerateKey(e,t,r){const n=await Qi.generateKey({...e,name:this.name},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onExportKey(e,t){return Qi.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await Qi.importKey(e,t,{...r,name:this.name},n,i))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);const r=fi(e);if(!(r instanceof Fi||r instanceof Ji))throw new TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await Qi.deriveBits({...e,public:fi(e.public)},fi(t),r)}}const ro={[Fn.idEd448]:"Ed448",ed448:Fn.idEd448,[Fn.idX448]:"X448",x448:Fn.idX448,[Fn.idEd25519]:"Ed25519",ed25519:Fn.idEd25519,[Fn.idX25519]:"X25519",x25519:Fn.idX25519};function no(e){const t=ro[e.toLowerCase()];if(!t)throw new Lr(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class io extends ui{constructor(){super(...arguments),this.type="private"}getKey(){const e=lr.parse(this.data,Fn.PrivateKeyInfo);return lr.parse(e.privateKey,Fn.CurvePrivateKey)}toJSON(){const e=this.getKey(),t={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(t,Pr.toJSON(e))}fromJSON(e){if(!e.crv)throw new Lr("Cannot get named curve from JWK. Property 'crv' is required");const t=new Fn.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=no(e.crv);const r=Kr.fromJSON(e,{targetSchema:Fn.CurvePrivateKey});return t.privateKey=hr.serialize(r),this.data=oi.from(hr.serialize(t)),this}}class oo extends ui{constructor(){super(...arguments),this.type="public"}getKey(){return lr.parse(this.data,Fn.PublicKeyInfo).publicKey}toJSON(){const e=this.getKey(),t={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(t,{x:m.ep.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new Lr("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new Lr("Cannot get property from JWK. Property 'x' is required");const t=new Fn.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=no(e.crv),t.publicKey=m.ep.FromBase64Url(e.x),this.data=oi.from(hr.serialize(t)),this}}class so{static async generateKey(e,t,r){const n=new io;n.algorithm=e,n.extractable=t,n.usages=r.filter((e=>-1!==this.privateKeyUsages.indexOf(e)));const i=new oo;i.algorithm=e,i.extractable=!0,i.usages=r.filter((e=>-1!==this.publicKeyUsages.indexOf(e)));const o=e.namedCurve.toLowerCase(),s=ri().generateKeyPairSync(o,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});n.data=s.privateKey,i.data=s.publicKey;return{privateKey:n,publicKey:i}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----\n${t.data.toString("base64")}\n-----END PRIVATE KEY-----`);const n={key:t.pem},i=ri().sign(null,oi.from(r),n);return m.vJ.toArrayBuffer(i)}static async verify(e,t,r,n){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----\n${t.data.toString("base64")}\n-----END PUBLIC KEY-----`);const i={key:t.pem};return ri().verify(null,oi.from(n),i,oi.from(r))}static async deriveBits(e,t,r){const n=ri().createPublicKey({key:e.public.data,format:"der",type:"spki"}),i=ri().createPrivateKey({key:t.data,format:"der",type:"pkcs8"}),o=ri().diffieHellman({publicKey:n,privateKey:i});return new Uint8Array(o).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return Pr.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return lr.parse(t.data,Fn.PublicKeyInfo).publicKey;default:throw new Lr("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,n,i){switch(e.toLowerCase()){case"jwk":{const e=t;if(e.d){const e=Kr.fromJSON(t,{targetSchema:Fn.CurvePrivateKey});return this.importPrivateKey(e,r,n,i)}if(!e.x)throw new TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(m.ep.FromBase64Url(e.x),r,n,i)}case"raw":return this.importPublicKey(t,r,n,i);case"spki":{const e=lr.parse(new Uint8Array(t),Fn.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,n,i)}case"pkcs8":{const e=lr.parse(new Uint8Array(t),Fn.PrivateKeyInfo),o=lr.parse(e.privateKey,Fn.CurvePrivateKey);return this.importPrivateKey(o,r,n,i)}default:throw new Lr("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,n){const i=new io;return i.fromJSON({crv:t.namedCurve,d:m.ep.ToBase64Url(e.d)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}static async importPublicKey(e,t,r,n){const i=new oo;return i.fromJSON({crv:t.namedCurve,x:m.ep.ToBase64Url(e)}),i.algorithm=Object.assign({},t),i.extractable=r,i.usages=n,i}}so.publicKeyUsages=["verify"],so.privateKeyUsages=["sign","deriveKey","deriveBits"];class ao extends on{async onGenerateKey(e,t,r){const n=await so.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onSign(e,t,r){return so.sign(e,fi(t),new Uint8Array(r))}async onVerify(e,t,r,n){return so.verify(e,fi(t),new Uint8Array(r),new Uint8Array(n))}async onExportKey(e,t){return so.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await so.importKey(e,t,{...r,name:this.name},n,i))}}class co extends nn{async onGenerateKey(e,t,r){const n=await so.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:pi(n.privateKey),publicKey:pi(n.publicKey)}}async onDeriveBits(e,t,r){return await so.deriveBits({...e,public:fi(e.public)},fi(t),r)}async onExportKey(e,t){return so.exportKey(e,fi(t))}async onImportKey(e,t,r,n,i){return pi(await so.importKey(e,t,{...r,name:this.name},n,i))}}class uo extends ai{}class lo extends Gn{async onDeriveBits(e,t,r){return new Promise(((n,i)=>{const o=m.vJ.toArrayBuffer(e.salt),s=e.hash.name.replace("-","");ri().pbkdf2(fi(t).data,oi.from(o),e.iterations,r>>3,s,((e,t)=>{e?i(e):n(new Uint8Array(t).buffer)}))}))}async onImportKey(e,t,r,n,i){if("raw"===e){const e=new uo;return e.data=oi.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=i,pi(e)}throw new Lr("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof uo))throw new TypeError("key: Is not PBKDF CryptoKey")}}class ho extends ai{get alg(){return`HS${this.algorithm.hash.name.toUpperCase().replace("SHA-","")}`}set alg(e){}}ii([_r({name:"k",converter:si})],ho.prototype,"data",void 0);class fo extends zn{async onGenerateKey(e,t,r){const n=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,i=new ho;return i.algorithm={...e,length:n,name:this.name},i.extractable=t,i.usages=r,i.data=ri().randomBytes(n>>3),pi(i)}async onSign(e,t,r){const n=ji.getAlgorithmName(t.algorithm.hash),i=ri().createHmac(n,fi(t).data).update(oi.from(r)).digest();return new Uint8Array(i).buffer}async onVerify(e,t,r,n){const i=ji.getAlgorithmName(t.algorithm.hash);return 0===ri().createHmac(i,fi(t).data).update(oi.from(n)).digest().compare(oi.from(r))}async onImportKey(e,t,r,n,i){let o;switch(e.toLowerCase()){case"jwk":o=Kr.fromJSON(t,{targetSchema:ho});break;case"raw":o=new ho,o.data=oi.from(t);break;default:throw new Lr("format: Must be 'jwk' or 'raw'")}return o.algorithm={hash:{name:r.hash.name},name:this.name,length:o.data.length<<3},o.extractable=n,o.usages=i,pi(o)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return Pr.toJSON(fi(t));case"raw":return new Uint8Array(fi(t).data).buffer;default:throw new Lr("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof ho))throw new TypeError("key: Is not HMAC CryptoKey")}}class po extends ai{}class yo extends Wn{async onImportKey(e,t,r,n,i){if("raw"!==e.toLowerCase())throw new Lr("Operation not supported");const o=new po;return o.data=oi.from(t),o.algorithm={name:this.name},o.extractable=n,o.usages=i,pi(o)}async onDeriveBits(e,t,r){const n=e.hash.name.replace("-",""),i=ri().createHash(n).digest().length,o=r/8,s=m.vJ.toUint8Array(e.info),a=ri().createHmac(n,m.vJ.toUint8Array(e.salt)).update(m.vJ.toUint8Array(fi(t).data)).digest(),c=[oi.alloc(0)],u=Math.ceil(o/i)+1;for(let l=1;l<u;++l)c.push(ri().createHmac(n,a).update(oi.concat([c[l-1],s,oi.from([l])])).digest());return oi.concat(c).slice(0,o)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(fi(e)instanceof po))throw new TypeError("key: Is not HKDF CryptoKey")}}class go{static digest(e,t){const r=ri().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(oi.from(t)).digest();return new Uint8Array(r).buffer}}class mo extends Yn{async onDigest(e,t){return go.digest(e,t)}}class wo extends Xn{async onDigest(e,t){return go.digest(e,t)}}class vo extends ei{constructor(){var e;super(),this.providers.set(new di),this.providers.set(new Bi),this.providers.set(new xi),this.providers.set(new Ei),this.providers.set(new Ci),this.providers.set(new Ni),this.providers.set(new Pi),this.providers.set(new Ki),this.providers.set(new Li),this.providers.set(new Di),this.providers.set(new Mi),this.providers.set(new Hi),this.providers.set(new eo),this.providers.set(new to),this.providers.set(new zi),this.providers.set(new Gi),this.providers.set(new Wi),this.providers.set(new qi),this.providers.set(new lo),this.providers.set(new fo),this.providers.set(new yo);const t=null===(e=/^v(\d+)/.exec(ni.version))||void 0===e?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new mo),this.providers.set(new wo));const r=ti.getHashes();r.includes("sha3-256")&&this.providers.set(new Yi),r.includes("sha3-384")&&this.providers.set(new Xi),r.includes("sha3-512")&&this.providers.set(new Zi),t&&parseInt(t,10)>=14&&(this.providers.set(new ao),this.providers.set(new co))}}var bo=1296e3,Ao="~",So={ttl:bo,cookieOptions:{httpOnly:!0,secure:!0,sameSite:"lax",path:"/"}};function ko(e,t){var r;if("headers"in t)return void t.headers.append("set-cookie",e);let n=null!=(r=t.getHeader("set-cookie"))?r:[];"string"===typeof n&&(n=[n]),t.setHeader("set-cookie",[...n,e])}function Eo(e){return e-60}function Bo(e){return"string"===typeof e?{1:e}:e}var xo,Co,No,Oo=new class extends Zn{constructor(){super(...arguments),this.subtle=new vo}getRandomValues(e){if(!ArrayBuffer.isView(e))throw new TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");const t=oi.from(e.buffer,e.byteOffset,e.byteLength);return ri().randomFillSync(t),e}},Uo=(xo=Oo,async(e,{password:t,ttl:r=1296e3})=>{const n=Bo(t),{sealWithoutVersion:i,tokenVersion:o}=function(e){if(e[e.length-2]===Ao){const[t,r]=e.split(Ao);return{sealWithoutVersion:t,tokenVersion:parseInt(r,10)}}return{sealWithoutVersion:e,tokenVersion:null}}(e);try{const e=await d(xo,i,n,{...s,ttl:1e3*r})||{};return 2===o?e:{...e.persistent}}catch(a){if(a instanceof Error&&("Expired seal"===a.message||"Bad hmac value"===a.message||a.message.startsWith("Cannot find password: ")||"Incorrect number of sealed components"===a.message))return{};throw a}}),Po=function(e){return async(t,{password:r,ttl:n=1296e3})=>{const i=Bo(r),o=Math.max(...Object.keys(i).map((e=>parseInt(e,10)))),a={id:o.toString(),secret:i[o]};return`${await y(e,t,a,{...s,ttl:1e3*n})}~2`}}(Oo);Co=Uo,No=Po}}]);